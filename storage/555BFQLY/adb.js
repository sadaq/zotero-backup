/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. 6f70567:jnm9jqe3 */
!function r(a,o,s){function d(i,e){if(!o[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);throw new Error("Cannot find module '"+i+"'")}var n=o[i]={exports:{}};a[i][0].call(n.exports,function(e){var t=a[i][1][e];return d(t||e)},n,n.exports,r,a,o,s)}return o[i].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,t,i){var d=e("../utils.js"),c=e("../ajax.js");t.exports=function(e,t,n,r){var i={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},a=function(){return r&&r.consentString&&r.gdprApplies},o=function(e){return"//"+(e.aol_server?e.aol_server:i[e.aol_region||"us"])+"/pubapi/3.0/"+e.network+"/"+e.bidder_unit_id+"/"+(e.pageid||0)+"/"+(e.sizeid||0)+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+d.genUUID()+";misc="+(new Date).getTime()+(e.send_floor?";bidfloor="+unit.min_cpm:"")+(a()?";euconsent="+r.consentString+";gdpr=1":"")},s=function(e){var t,i=e.aol_server?e.aol_server:"hb.nexage.com",n="";return d.https&&(n+="&secure=1"),a()&&(n+="&euconsent="+r.consentString+"&gdpr=1"),"//"+i+"/bidRequest?"+("dcn="+(t={dcn:e.dcn,pos:e.bidder_unit_id,dynamicParams:n}).dcn+"&pos="+t.pos+"&cmd=bid"+t.dynamicParams)};this.execute=function(i){i.eachBidRequest(e,function(r,a){var e,t={url:(e=a,e.api||(e.api="aol"),"onemobile"==e.api?s(e):o(e)),withCredentials:!0};n.ajax_ms&&(t.max_ms=1<n.ajax_ms?n.ajax_ms:i.max_ms),c(t,function(e,t){if(e)return r.addEmptyBid(a),"timeout"!=e.type&&d.err("AOL call failed: ",e);if(!t)return r.addEmptyBid(a);try{t=JSON.parse(t)}catch(e){return r.addEmptyBid(a),d.err("AOL invalid JSON: ",e)}try{var i=t.seatbid[0].bid[0]}catch(e){return void r.addEmptyBid(a)}var n=i.adm;t.ext&&t.ext.pixels&&(n+='<script>try { if(!top.AdBridg.global("aol_pixel")){top.AdBridg.global("aol_pixel", true);'+t.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}}catch(e){}<\/script>");r.addBid(a,{creative:n,cpm:i.price,width:i.w,height:i.h,extras:{id:t.id,creativeid:i.crid}})})})}}},{"../ajax.js":9,"../utils.js":20}],2:[function(e,t,i){var s=e("../utils.js"),d=e("../ajax.js"),c=(e("../config.js").afterConsent,!1),u=function(e){if("string"==typeof e){var t=e.split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}}for(var i=[],n=0;n<e.length;++n)i.push(u(e[n]));return i};t.exports=function(r,e,a,o){this.execute=function(i){var n=[];if(i.eachBidRequest(r,function(e,t){var i={sizes:u(t.all_sizes),primary_size:u(t.size),ad_types:["banner"],uuid:t.id,id:parseInt(t.bidder_unit_id,10),allow_smaller_sizes:!1,use_pmt_rule:!1,prebid:!0,disable_psa:!0};t.send_floor&&(i.reserve=e.min_cpm),t.position&&(i.position={above:1,below:2}[t.position]||0),n.push(i)}),!n.length)return s.log(r,"had no valid units for auction "+i.id),i.markBidderEmpty(r);var e={tags:n,user:void 0,sdk:{source:"pbjs",version:"1.12.0"}};o&&(e.gdpr_consent={consent_string:o.consentString,consent_required:o.gdprApplies});var t={url:"//ib.adnxs.com/ut/v3/prebid",method:"POST",withCredentials:!0,data:JSON.stringify(e)};a.ajax_ms&&(t.max_ms=1<a.ajax_ms?a.ajax_ms:i.max_ms),d(t,s.wrapAsync(function(e,t){if(e)return i.markBidderEmpty(r),"timeout"!=e.type&&s.err("AppNexusAST had error: ",e);if(t)try{t=JSON.parse(t)}catch(e){s.err("AppNexusAST JSON fail"),t=!1}if(!t)return i.markBidderEmpty(r);s.each(t.tags,s.wrapAsync(function(n){var r=i.getBidRequest(n.uuid);if(!r)return s.err("AppNexusAst bad id: ",n.uuid);n.ads&&n.ads.length&&s.each(n.ads,function(e){if(e.cpm&&e.rtb&&e.rtb.banner){var t=e.rtb.banner.content;try{var i=e.rtb.trackers[0].impression_urls[0];t+=s.pixelh(i)}catch(e){s.err("AppNexusAst tk failed: ",e)}r.unit.addBid(r,{creative:t,cpm:e.cpm,width:e.rtb.banner.width,height:e.rtb.banner.height,extras:{bmid:e.buyer_member_id,crid:e.creative_id,bauid:n.auction_id,bapid:n.ad_profile_id}})}})})),c||(c=!0,s.uspf(r,"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html")),i.markBidderEmpty(r)}))}}},{"../ajax.js":9,"../config.js":12,"../utils.js":20}],3:[function(e,t,i){var f=e("../utils.js"),s=e("../ajax.js");t.exports=function(a,e,o){var g=function(e){return"video"===e};this.execute=function(t){var d=[],c=[],u=[],l={},p=!1;t.eachBidRequest(a,function(e,o){var s=o.format;f.each(o.all_sizes,function(e){if(t=e,("fullwidth"!==(i=s)||"300x250"!==t)&&"video"!=(r=i)&&"native"!=r&&"300x250"!=(n=t)&&"320x50"!=n)return f.err("FAN invalid size/format",e,s);var t,i,n,r,a=o.bidder_unit_id;if(l.hasOwnProperty(a))return f.err("FAN duplicate placement",a);d.push(a),c.push(o.format||e),u.push(g(s)?"":"5.5.web"),l[a]=o,g(s)&&(p=e.split("x"))})});var e=!1;try{e=!!String(window.location.search).match("anhb_testmode")}catch(e){}var i=encodeURIComponent(f.url().href),n={placementids:d,adformats:c,testmode:e,pageurl:i,sdk:u,pbv:"1.12.0"};p&&(n.playerwidth=parseInt(p[0],10),n.playerheight=parseInt(p[1],10)),f.safari&&(n.cb=f.genUUID());var r={url:"https://an.facebook.com/v2/placementbid.json?"+f.toqs(n),withCredentials:!0};o.ajax_ms&&(r.max_ms=1<o.ajax_ms?o.ajax_ms:t.max_ms),s(r,function(e,c){if(e)return t.markBidderEmpty(a),"timeout"!=e.type&&f.err("FAN had error: ",e);if(c)try{c=JSON.parse(c)}catch(e){f.err("FAN JSON fail"),c=!1}if(!c)return t.markBidderEmpty(a);f.each(c.bids||[],function(e,d){f.each(e,function(e){var t=l[d];if(!t)return f.err("FAN bad id",d);var i=e.bid_id,n=e.bid_price_cents;if(n){var r,a,o,s=t.size.split("x");t.unit.addBid(t,{creative:(r=d,a=t.format||"",o=i,"<html><head>"+("native"===a?'<script>window.onload=function(){if(parent){var o=document.getElementsByTagName("head")[0];var s=parent.document.getElementsByTagName("style");for(var i=0;i<s.length;i++)o.appendChild(s[i].cloneNode(true));}}<\/script>':"")+"</head><body><div style=\"display:none;position:relative;\"><script type='text/javascript'>var data = {placementid:'"+r+"',format:'"+a+"',bidid:'"+o+"',onAdLoaded:function(e){console.log('Audience Network ["+r+"] ad loaded');e.style.display = 'block';},onAdError:function(c,m){console.log('Audience Network ["+r+"] error (' + c + ') ' + m);}};(function(a,b,c){var d='https://www.facebook.com',e='https://connect.facebook.net/en_US/fbadnw55.js',f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now){return Date.now();}else return +new Date();},i=function(aa){var ba=d+'/audience_network/client_event',ca={cb:h(),event_name:'ADNW_ADERROR',ad_pivot_type:'audience_network_mobile_web',sdk_version:'5.5.web',app_id:g.placementid.split('_')[0],publisher_id:g.placementid.split('_')[1],error_message:aa},da=[];for(var ea in ca)da.push(encodeURIComponent(ea)+'='+encodeURIComponent(ca[ea]));var fa=ba+'?'+da.join('&'),ga=new XMLHttpRequest();ga.open('GET',fa,true);ga.send();if(g.onAdError)g.onAdError('1000','Internal error.');},j=function(){if(b.currentScript){return b.currentScript;}else{var aa=b.getElementsByTagName('script');return aa[aa.length-1];}},k=function(aa){try{return aa.document.referrer;}catch(ba){}return '';},l=function(){var aa=a,ba=[aa];try{while(aa!==aa.parent&&aa.parent.document)ba.push(aa=aa.parent);}catch(ca){}return ba.reverse();},m=function(){var aa=l();for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=ca.ADNW||{};ca.ADNW=da;if(!ca.ADNW)continue;return da.v55=da.v55||{ads:[],window:ca};}throw new Error('no_writable_global');},n=function(aa){var ba=aa.indexOf('/',aa.indexOf('://')+3);if(ba===-1)return aa;return aa.substring(0,ba);},o=function(aa){return aa.location.href||k(aa);},p=function(aa){if(aa.sdkLoaded)return;var ba=aa.window.document,ca=ba.createElement('iframe');ca.name='fbadnw';ca.style.display='none';ba.body.appendChild(ca);var da=ca.contentDocument.createElement('script');da.src=e;da.async=true;ca.contentDocument.body.appendChild(da);aa.sdkLoaded=true;},q=function(aa){var ba=/^https?:\\/\\/www\\.google(\\.com?)?\\.\\w{2,3}$/;return !!aa.match(ba);},r=function(aa){return !!aa.match(/cdn\\.ampproject\\.org$/);},s=function(){var aa=c.ancestorOrigins||[],ba=aa[aa.length-1]||c.origin,ca=aa[aa.length-2]||c.origin;if(q(ba)&&r(ca)){return n(ca);}else return n(ba);},t=function(aa){try{return JSON.parse(aa);}catch(ba){i(ba.message);throw ba;}},u=function(aa,ba,ca){if(!aa.iframe){var da=ca.createElement('iframe');da.src=d+'/audiencenetwork/iframe/';da.style.display='none';ca.body.appendChild(da);aa.iframe=da;aa.iframeAppendedTime=h();aa.iframeData={};}ba.iframe=aa.iframe;ba.iframeData=aa.iframeData;ba.tagJsIframeAppendedTime=aa.iframeAppendedTime||0;},v=function(aa){var ba=d+'/audiencenetwork/xhr/?sdk=5.5.web';for(var ca in aa)if(typeof aa[ca]!=='function')ba+='&'+ca+'='+encodeURIComponent(aa[ca]);var da=new XMLHttpRequest();da.open('GET',ba,true);da.withCredentials=true;da.onreadystatechange=function(){if(da.readyState===4){var ea=t(da.response);aa.events.push({name:'xhrLoaded',source:aa.iframe.contentWindow,data:ea,postMessageTimestamp:h(),receivedTimestamp:h()});}};da.send();},w=function(aa,ba){var ca=d+'/audiencenetwork/xhriframe/?sdk=5.5.web';for(var da in ba)if(typeof ba[da]!=='function')ca+='&'+da+'='+encodeURIComponent(ba[da]);var ea=b.createElement('iframe');ea.src=ca;ea.style.display='none';b.body.appendChild(ea);ba.iframe=ea;ba.iframeData={};ba.tagJsIframeAppendedTime=h();},x=function(aa){var ba=function(event){try{var da=event.data;if(da.name in f)aa.events.push({name:da.name,source:event.source,data:da.data});}catch(ea){}},ca=aa.iframe.contentWindow.parent;ca.addEventListener('message',ba,false);},y=function(aa){if(aa.context&&aa.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(aa.name)).ampcontextVersion;}catch(ba){return false;}},z=function(aa){var ba=h(),ca=l()[0],da=j().parentElement,ea=ca!=a.top,fa=ca.$sf&&ca.$sf.ext,ga=o(ca),ha=m();p(ha);var ia={amp:y(ca),events:[],tagJsInitTime:ba,rootElement:da,iframe:null,tagJsIframeAppendedTime:ha.iframeAppendedTime||0,url:ga,domain:s(),channel:n(o(ca)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:ha.ads.length,crossdomain:ea,safeframe:!!fa,placementid:g.placementid,format:g.format||'300x250',testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)ia.bidid=g.bidid;if(ea){w(ha,ia);}else{u(ha,ia,ca.document);v(ia);}; x(ia);ia.rootElement.dataset.placementid=ia.placementid;ha.ads.push(ia);};try{z();}catch(aa){i(aa.message||aa);throw aa;}})(window,document,location);<\/script>"+("native"===a?'<div class="thirdPartyRoot"><a class="fbAdLink"><div class="fbAdMedia thirdPartyMediaClass"></div><div class="fbAdSubtitle thirdPartySubtitleClass"></div><div class="fbDefaultNativeAdWrapper"><div class="fbAdCallToAction thirdPartyCallToActionClass"></div><div class="fbAdTitle thirdPartyTitleClass"></div></div></a></div>':"")+"</div></body></html>"),cpm:n/100,width:parseInt(s[0],10),height:parseInt(s[1],10),extras:{fbid:i,cur:c.currency}})}})}),c.errors&&c.errors.length&&f.err("FAN API errors",c.errors),t.markBidderEmpty(a)})}}},{"../ajax.js":9,"../utils.js":20}],4:[function(e,t,i){var u=e("../utils.js"),l=e("../ajax.js"),p={JPY:1};t.exports=function(r,e,a,c){this.execute=function(o){var s=u.url(),d=[];o.eachBidRequest(r,function(e,t){var i=t.size.split("x"),n=parseInt(i[0],10),r=parseInt(i[1],10),a={id:t.id,banner:{w:n,h:r,topframe:s.is_top?1:0},bidfloor:e.min_cpm,bidfloorCur:t.bidfloorCur||"USD",ext:{sid:t.size,siteID:parseInt(t.bidder_unit_id,10)}};d.push(a)});var e={id:u.genID(),site:{page:encodeURIComponent(s.href),ref:encodeURIComponent(s.referrer)},ext:{source:"prebid"},imp:d};c&&(e.regs={ext:{gdpr:c.gdprApplies?1:0}},e.user={ext:{consent:c.consentString||""}});var t={s:d[0].ext.siteID,v:7.2,r:JSON.stringify(e),ac:"j",sd:1,t:o.max_ms},i="http:"==location.protocol?"http://as.casalemedia.com/cygnus":"https://as-sec.casalemedia.com/cygnus",n={url:i+="?"+u.toqs(t),method:"GET",withCredentials:!0};a.ajax_ms&&(n.max_ms=1<a.ajax_ms?a.ajax_ms:o.max_ms),l(n,u.wrapAsync(function(e,a){if(e)return o.markBidderEmpty(r),"timeout"!=e.type&&u.err("Index had error: ",e);if(a)try{a=JSON.parse(a)}catch(e){u.err("Index JSON fail"),a=!1}if(!a||!a.seatbid||!a.seatbid.length)return o.markBidderEmpty(r);u.each(a.seatbid,function(e){u.each(e.bid,function(e){var t,i=o.getBidRequest(e.impid);if(!i)return u.err("Index bad id: ",e.impid);t=p.hasOwnProperty(r)?e.price/p[r]:e.price/100;var n={},r=a.currency;"USD"!=r&&(n.cur=r),e.crid&&(n.crid=e.crid),e.addomain&&(n.addomain=e.addomain.join?e.addomain.join(","):e.addomain),e.ext&&e.ext.dealid&&(n.dealid=e.ext.dealid),i.unit.addBid(i,{creative:e.adm,cpm:t,width:e.w,height:e.h,extras:n})})}),o.markBidderEmpty(r)}))}}},{"../ajax.js":9,"../utils.js":20}],5:[function(e,t,i){var h=e("../utils.js"),m=e("../ajax.js");t.exports=function(s,e,c,d){var u={},l=function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}},p=function(e,t){var i,n,r,a,o=t.w*t.h,s=l(),d={x:e.x+t.w,y:e.y+t.h};return 0===o||-1===s.w||-1===s.h?0:(i=e,n=d,r={x:0,y:0},a={x:s.w,y:s.h},(i.x>a.x||n.x<r.x||i.y>a.y||n.y<r.y?0:(Math.min(n.x,a.x)-Math.max(i.x,r.x))*(Math.min(n.y,a.y)-Math.max(i.y,r.y)))/o)},g=function(e,t){var i,n=[];h.each(t.all_sizes,function(e){e=e.split("x");var t={w:parseInt(e[0],10),h:parseInt(e[1],10)};n.push(t),(!i||t.h*t.w<i.h*i.w)&&(i=t)});var r,a=e.get("dom_id"),o={id:t.id,tagid:t.bidder_unit_id,banner:n,bidfloor:e.min_cpm,ext:{dfp_id:a,visibility:0},all:{cid:c.cid,bidFloor:e.min_cpm,crid:t.bidder_unit_id}},s=function(e){var t=document.getElementById(e);if(t&&t.getBoundingClientRect){var i=t.getBoundingClientRect();return{top_left:{y:i.top,x:i.left},bottom_right:{y:i.bottom,x:i.right}}}return null}(a);if(s){var d={top_left:{x:(r=s).top_left.x+window.pageXOffset,y:r.top_left.y+window.pageYOffset},bottom_right:{x:r.bottom_right.x+window.pageXOffset,y:r.bottom_right.y+window.pageYOffset}};o.ext.coordinates=d,o.ext.viewability=p(s.top_left,i),.5<p(d.top_left,i)?o.ext.visibility=1:o.ext.visibility=2}return o},f=function(e,t,i,n){try{var r=document.querySelector(i);if(r&&r[n]){var a=document.createElement("a");a.href=r[n],e.site[t]=a.href}}catch(e){}};this.execute=function(n){var r=[],a=!1;if(n.eachBidRequest(s,function(e,t){r.push(g(e,t));var i=e.get("dom_id");u[i]?a=!0:u[i]=!0}),!r.length)return n.markBidderEmpty(s),h.err("MediaNet no imps");var e=h.url(),t={id:h.genUUID(),imp:r,tmax:n.max_ms,refresh:a?1:0,site:{domain:e.domain,page:e.href,ref:e.referrer},ext:{customer_id:c.cid,prebid_version:"v1.15.0",gdpr_applies:!(!d||!d.gdprApplies)}};d&&(t.ext.gdpr_consent_string=d.consentString||"");var i=l();-1!==i.w&&-1!==i.h&&(t.ext.screen=i),f(t,"canonical_url",'link[rel="canonical"]',"href"),f(t,"og_url",'meta[property="og:url"]',"content"),f(t,"twitter_url",'meta[name="twitter:url"]',"content");var o={method:"POST",withCredentials:!0,url:"//prebid.media.net/rtb/prebid",data:JSON.stringify(t)};c.ajax_ms&&(o.max_ms=1<c.ajax_ms?c.ajax_ms:n.max_ms),m(o,h.wrapAsync(function(e,t){if(e)return n.markBidderEmpty(s),"timeout"!=e.type&&h.err("MediaNet bid request failed: ",e);if(!t)return n.markBidderEmpty(s);try{var i=JSON.parse(t)}catch(e){return n.markBidderEmpty(s),h.err("MediaNet response unparseable: ",e)}return i?(i.ext&&h.each(i.ext.csUrl||[],function(e){"image"==e.type?h.uspi(s,e.url):"iframe"==e.type&&h.uspf(s,e.url)}),i.bidList&&i.bidList.length?(h.each(i.bidList,function(e){if(!(!1!==e.no_bid||parseFloat(e.cpm)<=0)){var t=n.getBidRequest(e.requestId);if(!t)return h.err("MediaNet bad id: ",e.requestId);e.netRevenue||h.err("MediaNetGross"),t.unit.addBid(t,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:{crid:e.creativeId}})}}),void n.markBidderEmpty(s)):n.markBidderEmpty(s)):(n.markBidderEmpty(s),h.err("MediaNet response empty"))}))}}},{"../ajax.js":9,"../utils.js":20}],6:[function(e,t,i){var u=e("../utils.js"),l=e("../ajax.js");t.exports=function(r,e,a,o){var s=!0,n=!1;function c(e,t){var i=u.url(),n=!i.is_top,r={ju:encodeURIComponent(i.href),jr:encodeURIComponent(i.referrer),ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t=u.vp();if(window,document,e)try{window.top,window.top.document}catch(e){return}return t.w+"x"+t.h}(n),be:1,dddid:e.map(function(e){return e.transactionID}).join(","),nocache:(new Date).getTime()};return o&&(r.gdpr=o.gdprApplies?1:0,o.consentString&&(r.gdpr_consent=o.consentString)),r}function t(e,t){var i=[],n=!1,r=c(e),a=e.map(function(e){return e.params.unit}),o=e.map(function(e){return e.params.placementId});r.aus=e.map(function(e){return e.sizes.map(function(e){return e.join("x")}).join(",")}).join("|"),r.bc=e[0].params.bc||"hb_pb",r.divs=e.map(function(e){return e.adUnitCode||e.adbAlias}).join(","),a.some(function(e){return e})&&(r.auid=a.join(",")),o.some(function(e){return e})&&(r.pids=o.join(",")),e.forEach(function(a){if(a.params.customParams){var e=u.each(a.params.customParams,function(e,t){return i=t,n=a.params.customParams,r=n[i],u.isarr(r)&&(r=r.join(",")),(i.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_");var i,n,r}),t=window.btoa(e.join("&"));n=!0,i.push(t)}else i.push("")}),n&&(r.tps=i.join(","));var s=[],d=!1;return e.forEach(function(e){e.params.customFloor?(s.push(1e3*e.params.customFloor),d=!0):s.push(0)}),d&&(r.aumfs=s.join(",")),{method:"GET",url:"//"+e[0].params.delDomain+"/w/1.0/arj"+"?"+u.toqs(r)+"&",withCredentials:!0,parseResponseJson:!0}}function d(o){return u.wrapAsync(function(e,t){if(e)return o.markBidderEmpty(r),"timeout"!=e.type&&u.err("OpenX bid request failed: ",e);if(!t.ads)return u.err("OpenX response malformed");var i=t.ads.pixels;i&&n!=i&&(n=i,u.uspf(r,i)),o.eachBidRequest(r,function(i,n){var r,a;u.each(t.ads.ad,function(e){if(!e.used&&!a&&e.adunitid==n.bidder_unit_id&&e.pub_rev&&e.creative&&e.creative[0]){var t=e.creative[0].width+"x"+e.creative[0].height;-1!=n.all_sizes.indexOf(t)&&(r={creative:(a=e).html,cpm:Number(e.pub_rev)/1e3,width:e.creative[0].width,height:e.creative[0].height,extras:{dealid:e.deal_id,crid:e.adid,adv_id:e.adv_id,brand_id:e.brand_id}},i.addBid(n,r))}}),r?s&&(s=!1,function(e,t){try{var i=e.tracking.impression.match(/([^?]+\/)ri\?/);i&&u.pixel(i[1]+"bo?"+u.toqs(t))}catch(e){u.err("OpenX BoPixel",e)}}(a.creative[0],{bd:+new Date-new Date(o.jsts),br:r.viable?"p":"t",bt:o.max_ms,bs:window.location.hostname,bp:a.pub_rev,ts:a.ts})):i.addEmptyBid(n)})})}this.execute=function(i){var n=[];if(i.eachBidRequest(r,function(e,t){n.push({adUnitCode:e.get("dom_id"),adbAlias:e.alias,auctionId:i.id,bidId:e.unique_id,bidder:t.bidder_name,bidderRequestId:t.id,crumbs:{pubcid:u.genUUID()},mediaTypes:{banner:{sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)})}},params:{unit:t.bidder_unit_id,delDomain:a.delDomain},sizes:e.all_sizes.map(function(e){return e.split("x").map(Number)}),transactionID:u.genUUID()})}),0!==n.length){i.id,i.jsts,n[0].bidderRequestId;var e=t(n.reduce(function(e,t){var i;return(i=t)&&i.mediaTypes&&i.mediaTypes.video||"video"===i.mediaType?e[0].push(t):e[1].push(t),e},[[],[]])[1]);l(e,d(i))}}}},{"../ajax.js":9,"../utils.js":20}],7:[function(e,t,i){var p=e("../utils.js"),g=e("../ajax.js"),f={1:"468x60",2:"728x90",8:"120x600",9:"160x600",10:"300x600",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",113:"1000x300",117:"320x100",125:"800x250",126:"200x600"};p.each(f,function(e,t){f[e]=t});var h=!1;t.exports=function(s,e,a,u){var d=new RegExp("^([^;]*)(;\\1)+$");a.group_limit=a.group_limit||10;var c=function(e){var t,i,r,n,a,o=(i=e.all_sizes,r=[15,2,9],n=[],p.each(i,function(e){var t=parseInt(f[e],10);t&&n.push(t)}),n=n.sort(function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return-1<i||-1<n?-1===i?1:-1===n?-1:i-n:e-t}));1<o.length&&(a=o.slice(1).join(","));var s,d,c={account_id:e.account,site_id:e.site,zone_id:e.bidder_unit_id,size_id:o[0],alt_size_ids:a,p_pos:e.position||"btf",rp_floor:e.unit.min_cpm||.01,rp_secure:p.https?1:0,tk_flint:"pbjs_lite_1.15.0","x_source.tid":e.id,p_screen_res:[window.screen.width,window.screen.height].join("x"),kw:e.keywords||"",tk_user_key:e.userid,"p_geo.latitude":t,"p_geo.longitude":t,"tg_fl.eid":t,rf:p.url().href};return u&&(c.gdpr=u.gdprApplies?1:0,c.gdpr_consent=u.consentString),e.visitor&&p.each(e.visitor,function(e,t){c["tg_v."+t]=String(e)}),e.inventory&&p.each(e.inventory,function(e,t){c["tg_i."+t]=String(e)}),p.each(!(d=(s=window.DigiTrust&&window.DigiTrust.getUser({member:"T9QSFKPDN9"}))&&s.success&&s.identity||null)||d.privacy&&d.privacy.optout?[]:{"dt.id":d.id,"dt.keyv":d.keyv,"dt.pref":0},function(e,t){c[t]=e}),c},l=function(e){p.each(e,function(e){e.unit.addEmptyBid(e)})};this.execute=function(i){var e,n,r={};i.eachBidRequest(s,function(e,t){(r[t.site]=r[t.site]||[]).push(t)}),e=r,n=function(o){var t=[];p.each(o,function(e){t.push(c(e))});var e={url:function(n,e){var i=[],r=[];p.each(n,function(e,t){"tg_i."==t.substr(0,5)&&-1==r.indexOf(t)&&r.push(t),"tg_v."==t.substr(0,5)&&-1==i.indexOf(t)&&i.push(t)});var t=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(i).concat(r).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"]),a="";return p.each(t,function(e){var t=n[e],i=typeof t;("number"==i||"string"==i&&""!=t)&&(a+=e+"="+encodeURIComponent(t)+"&")}),"//fastlane.rubiconproject.com/a/api/fastlane.json?"+a+"slots="+e+"&rand="+Math.random()}(function(n){if(1===n.length)return n[0];var r={};return p.each(n,function(e,i){p.each(e,function(e,t){r[t]||(r[t]=new Array(n.length)),r[t].splice(i,1,e)})}),p.each(r,function(e,t){var i=e.join(";"),n=i.match(d);r[t]=n?n[1]:i}),r}(t),t.length),withCredentials:!0};a.ajax_ms&&(e.max_ms=1<a.ajax_ms?a.ajax_ms:i.max_ms),g(e,p.wrapAsync(function(e,t){if(e)return l(o),"timeout"!=e.type&&p.err("Rubicon bid request failed: ",e);if(!t)return l(o);try{var i=JSON.parse(t)}catch(e){return l(o),p.err("Rubicon response unparseable: ",e)}if(!i||"object"!=typeof i||"ok"!=i.status)return i&&i.error_code&&10!=i.error_code&&43!=i.error_code&&(n=o,r=i.error_code,p.each(n,function(e){var t="adb_imp_data",i="rubicon_error_code",n=e.unit.get(t)||{};n[i]||(n[i]="r"+r,e.unit.set(t,n))})),void l(o);var n,r;if(!i.ads||!i.ads.length)return l(o),p.err("Rubicon response ads invalid: ",i.ads);if(p.each(i.ads,function(e,t){if("ok"===e.status){var i,n,r=f[e.size_id].split("x"),a=o[t];a.unit.addBid(a,{creative:(i=e.script,n=e.impression_id,"<html><head><script type='text/javascript'>inDapIF=true;<\/script></head><body style='margin: 0; padding: 0;'>\x3c!-- Rubicon Project Ad Tag --\x3e<div data-rp-impression-id='"+n+"'><script type='text/javascript'>"+i+"<\/script></div></body></html>"),cpm:e.cpm,width:Number(r[0]),height:Number(r[1]),extras:{creativeid:e.creative_id,advertiserid:e.advertiser,networkid:e.network,dealid:e.deal}})}}),l(o),!h){h=!0;var a="";u&&(a+="?gdpr="+(u.gdprApplies?1:0)+"&gdpr_consent="+u.consentString),p.uspf(s,"https://eus.rubiconproject.com/usync.html"+a)}}))},p.each(e,function(e,t){for(;e.length;)n(e.splice(0,a.group_limit))})}}},{"../ajax.js":9,"../utils.js":20}],8:[function(e,t,i){var o=e("../utils.js");t.exports=function(t,e,i,n){var r=function(){var t=0;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=1)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=1)}return t}(),a=0;this.execute=function(e){if(i.check_gdpr&&(!n||n.gdprApplies))return e.markBidderEmpty(t),o.log("Triplelift canncelled pending GDPR");e.eachBidRequest(t,function(t,i){var e="tlCallback"+ ++a,n=document.location.protocol+"//tlx.3lift.com/header/auction?callback=window.AdBridg."+e+"&lib=adbridg&v=2&callback_id="+i.id+"&inv_code="+i.bidder_unit_id+o.qsappend("floor",t.min_cpm,!0,!0)+o.qsappend("fe",r,!0,!0)+"&size="+i.all_sizes.join(",")+o.qsappend("referrer",o.url().href,!0,!0);window.AdBridg[e]=o.wrapAsync(function(e){return e&&e.callback_id==i.id?e.cpm?void t.addBid(i,{creative:e.ad,cpm:e.cpm,width:e.width,height:e.height,extras:{dealid:e.deal_id}}):t.addEmptyBid(i):o.err("Triplelift had bad response: ",e)}),o.load(n)})}}},{"../utils.js":20}],9:[function(e,t,i){var a=e("./utils.js");t.exports=a.wrapAsync(function(i,n){var r,e=!1,t=i.method||(i.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=a.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e)if(i.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");n(null,t,r)}catch(e){n({err:e,type:"parse"},"",r)}else n(null,r.responseText,r);else n(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=i.parseResponseJson?a.wrapAsync(function(){try{var e=JSON.parse(r.responseText||"null");n(null,e,r)}catch(e){n({err:e,type:"parse"},"",r)}}):a.wrapAsync(function(){n(null,r.responseText,r)}),r.onerror=a.wrapAsync(function(e){n({err:e,type:"error"},"",r)}),r.ontimeout=a.wrapAsync(function(e){n({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,i.url),0!==i.max_ms&&(r.timeout=i.max_ms||3e3,a.logl("at","Ajax >",i.url,r.timeout)),e||(i.withCredentials&&(r.withCredentials=!0),a.each(i.headers,function(e,t){r.setRequestHeader(t,e)}),i.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",i.contentType||"text/plain")),r.send("POST"===t&&i.data)})},{"./utils.js":20}],10:[function(e,t,s){var d=e("./utils.js"),c=e("./config.js"),i=function(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e},n=i(),r="aX0";s.id=[2,r,n].join(","),c.afterConsent(function(e){e&&e.gdprApplies||((r=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||(r="a2"+(new Date).getTime().toString(36)+i()),d.cw("_adb",r,365),s.id=[2,r,n].join(","))});var u={},a={},o={},l=function(e,t,i,n){u[e]||(u[e]=[]),u[e].push(n),a[e]=i,o[e]||(o[e]=setTimeout(function(){p(e)},t))},p=function(e){if(clearTimeout(o[e]),o[e]=!1,u[e]&&u[e].length){var t=a[e],i=3===e?"1//"+u[e].length+t:"";i+=u[e].join(t),u[e]=[],g(e,1,i)}};s.flushNow=function(){for(var e in u)p(e)};var g=function(e,t,i){var n=s.id,r=function(){if(!u[3]||!u[3].length)return"";var e=u[3].join("&e=");return u[3]=[],e}(),a=d.vp(),o="//adspsp.com/pt/"+c.getId()+"/"+e+"/"+t+"/?a="+n+"&b="+i+"&e="+r+"&c="+encodeURIComponent(d.url().href)+"&d="+encodeURIComponent(d.url().referrer)+"&f="+d.pgts().join(".")+"&g="+d.perfts()+"&u=6f70567:jnm9jqe3&v="+f(a.w)+"."+f(a.h)+"."+f(a.y);for(o=c.deca(o),d.each(v,function(e,t){d.isarr(e)||(e=[e]),d.each(e,function(e){o+="&"+t+"="+encodeURIComponent(e)})});b.length;)delete v[b.pop()];d.each(x,function(e,t){o+="&"+t+"="+encodeURIComponent(e)}),x={},d.pixel(o)},f=function(e){return(parseInt(e,10)||0).toString(36)},h=function(e,t){return f(e)+"`"+f(t)},m=function(e){var i=[];return d.each(e,function(e){var t=e.split("x");2==t.length&&i.push(h(t[0],t[1]))}),i.join(".")},_=function(e){return String(e).replace(/[^\d\w-]/,"")},v={};s.meta=d.thread(function(e,t){v[e]=t});var b=[];s.metaqx=d.thread(function(e,t){-1==b.indexOf(e)&&b.push(e),v[e]?d.isarr(v[e])||(v[e]=[v[e]]):v[e]=[],v[e].push(t)});var x={};s.ctr=d.thread(function(e,t){void 0===t&&(t=1),t&&(x[e]=(x[e]||0)+t)}),s.auctionConfigured=d.thread(function(e){var i=[];e.eachUnit(function(e){var n=[],t=m(e.all_sizes);e.eachBidReqConf(function(e){var t=e.bidder_id+"@"+_(e.bidder_unit_id),i=m(e.all_sizes);n.push(t+"^"+i)}),i.push(e.id+"^"+t+":"+n.join(","))});var t=e.instancectr+"//"+i.length+"-"+i.join("_");e.eachUnit(function(e){t+="&bu="+e.unique_id}),g(1,1,t)});var y=function(e){var t=[Math.round(e.ms)];return(e.cpm||e._bid_cpm)&&(t.push(e.cpm),t.push(e.width),t.push(e.height),e._bid_cpm!=e.cpm&&(t.push(e._bid_cpm),t.push(e._min_cpm))),t.join(",")};s.auctionCompleted=d.thread(function(r){var a=[],n=[];r.eachBidRequest(function(i,e){var t=[r.instancectr,i.id,e.bidder_id,_(e.bidder_unit_id)].join(","),n=[];d.each(e.responses,function(e){var t=i.getWinner()===e?1:0;n.push(t+","+y(e))}),a.push(t+":"+n.join(":"))}),r.eachUnit(function(e){var t=e.getWinner();if(t){var i=JSON.stringify(t.extras);"{}"!=i&&n.push([r.instancectr,e.id,t.config.bidder_id].join(",")+":"+e.unique_id+":"+encodeURIComponent(i))}});var e=a.join("&b=");n.length&&(e+="&bw="+n.join("&bw=")),g(11,1,e)}),s.bidRendered=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id];t.push(e.config.bidder_id),t.push(e.config.bidder_unit_id),t.push(e.cpm),t.push(e.width),t.push(e.height),t.push(e.config.unit.unique_id);var i=JSON.stringify(e.extras);"{}"!=i&&t.push(encodeURIComponent(i)),l(12,100,"&b=","1:"+t.join(","))}),s.enhRendered=d.thread(function(e,t){l(12,100,"&b=","3:"+[e,t].join(","))}),s.gptRendered=d.thread(function(e,t,i){l(12,100,"&b=","2:"+[e.instancectr,t.id,f(i.advertiserId),f(i.campaignId),f(i.creativeId),i.isEmpty||"",f(i.lineItemId),i.size?h(i.size[0],i.size[1]):"",f(i.sourceAgnosticCreativeId),f(i.sourceAgnosticLineItemId),t.unique_id].join(","))}),s.gptViewed=d.thread(function(e,t,i){l(15,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id].join(","))}),s.gprog=d.thread(function(e){l(16,100,"&b=","1:"+JSON.stringify(e))}),s.lateBid=d.thread(function(e){var t=[e.config.unit.auction.instancectr,e.config.unit.id,e.config.bidder_id,e.config.bidder_unit_id].join(",");l(13,500,"&b=",t+":"+y(e))}),d.onerr(function(){try{var t="";d.each(arguments,function(e){void 0!==e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+d.perfts()+":"+t,l(3,1e3,"&e=",t)}catch(e){d.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=d.thread(function(e){l(17,500,"&b=",e)}),d.onrec(s.rec)},{"./config.js":12,"./utils.js":20}],11:[function(e,t,i){var p=e("./utils"),g=(e("./unit"),e("./analytics")),f=e("./modules"),n=0;t.exports=function(){this.instancectr=++n,this.id=p.genID("A"),this.ts=0,this.jsts=0,this.max_ms;var r=this,a={},o=[],s=[],d=[],c=!1,u=[],l=!1;this.addUnit=function(e){return s.push(e),d.push(e.alias),e.auction=r,e.eachBidder(function(e,t){a[e]||(a[e]=t,.5<Math.random()?o.push(e):o.unshift(e))}),r.max_ms=r.max_ms?Math.min(r.max_ms,e.max_ms):e.max_ms,r},this.hasUnit=function(){return 0<s.length},this.eachUnit=function(e){p.each(s,e)},this.findUnit=function(e){for(var t=0;t<s.length;++t){if(e(s[t]))return s[t]}return!1},this.eachBidRequest=function(e,i){"function"==typeof e&&(i=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){i(t,e)})})},this.getUnitByBidReqId=function(t){var i=!1;return r.eachUnit(function(e){e.getBidReqConf(t)&&(i=e)}),i},this.getBidRequest=function(t){var i=!1;return r.eachUnit(function(e){i||(i=e.getBidReqConf(t))}),i},this.markBidEmpty=function(e){var t=r.getUnitByBidReqId(e);t?t.addEmptyBid(e):p.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){r.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return c},this.lock=function(e){-1==u.indexOf(e)&&(p.log("Auction ",r.id," locked: ",e),u.push(e))},this.unlock=p.wrapAsync(function(e){var t=u.indexOf(e);-1!=t?(u.splice(t,1),p.log("Auction ",r.id," unlocked: ",e,u),!u.length&&l&&l()):p.log("Auction ",r.id," lock not found: ",e)}),this.execute=function(e){r.ts=p.dts(),r.jsts=(new Date).getTime(),p.log("Auction",r.id,"starting with",s.length,"units:",d,"/ bidders:",o,"/ timeout:",r.max_ms),g.auctionConfigured(r),f.trigger("auction.start",r);var t=p.wrapAsync(function(){c||(c=!0,r.eachUnit(function(e){e.halt()}),g.auctionCompleted(r),f.trigger("auction.complete",r),e(r))}),i=p.wrapAsync(function(){if(u.length)return p.log("Auction ",r.id,"waiting on locks",u),void(l=t);t()}),n=0;r.eachUnit(function(e){e.onReady(p.wrapAsync(function(){c||++n>=s.length&&(p.log("Auction ",r.id," received bids for ",n," / ",s.length," units. Duration: ",p.dts()-r.ts,"ms"),i())}))}),p.each(o,function(e){var t=a[e];p.thread(function(){t.execute(r)})()}),setTimeout(function(){c||(p.log("Auction ",r.id," timing out with ",n," / ",s.length," units completed. Duration: ",p.dts()-r.ts,"ms"),i())},r.max_ms)}}},{"./analytics":10,"./modules":14,"./unit":19,"./utils":20}],12:[function(e,t,o){var p=e("./utils"),r=e("./ajax"),s={c:2418030,s:{track_imps:!0,bid_strategy:".05:.05-7.5,.5:8-20,1:21-40,2:42-50",usp:{image:!0,iframe:!1,delay:3e3},cmp:"iab",cmp_check_interval:100,cmp_check_max:20,gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,isus:function(e){return"US"===(e.pub?e.pub.cc:window.HL&&HL.c&&HL.c.countryCode)},iscausuk:function(e){var t=e.pub?e.pub.cc:window.HL&&HL.c&&HL.c.countryCode;return-1<["US","GB","UK","CA"].indexOf(t.toUpperCase())},new_tl_test:function(e){return!p.qs("adb_tl_new_only")&&e},ajax_ms:1100,before_gpt:function(){p.qs("no_sandbox")||(p.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}))},dynamic_configuration:function(e,t){if(t.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),p.log("Healthline config not detected; using globals")),(t.pub?t.pub.sponsorship:(((__NEXT_DATA__||{}).props||{}).adTargeting||{}).isSponsored)&&t.isus(t))return AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),p.err("HLSponsorshipPage"),p.log("Healthline page has been reserved for a sponsorship; all bidding is disabled.")),!1;-1<[16,17,18].indexOf(e.id)&&p.vp().w<=989&&(e.other_sizes="");var i=t.pub?t.pub.cc:window.HL&&HL.c&&HL.c.countryCode;return["US","UK","CA","AU"].indexOf(i)<0&&(AdBridg.global("HLIFReported")||(AdBridg.global("HLIFReported",1),p.log("Intl floor set")),e.min_cpm=.25),e},alter_adb_pixel:function(t){var i=window.Krux&&Krux.segments;if(i&&i.length){p.each(["rtfoso4jo","rtdcvdi3p","rt0yso1r8"],function(e){-1<i.indexOf(e)&&(t+="&hlk="+e)})}return t},post_view:function(e,t){if(t.trackView)return t.trackView("GPT")},post_auc_ufilter:function(e,t){var i=e.getWinner();if(i&&i.cpm){var n=e.get("adb_imp_data")||{},r=i.cpm,a=r<5?"":r<10?"b5":"b10";a&&(n.adx=a),18==i.config.bidder_id&&(n.tl="tl"+(i.config.bidder_unit_id.match("_HDX")?"2":"1")),e.set("adb_imp_data",n)}}},u:{1:[1,"Desktop_300x250_1","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR1$"},[[5,"11002902",0,0],[10,"193270",{size:"300x250"},0],[116,"482160476",0,0],[114,"4817317",{size:"300x250"},0],[4,"540307314",0,0],[2,"604642",{site:"127964"},0],[18,"healthline_desktop_rightrail_300x600_pos1_AB",0,function(e,t){return t.new_tl_test(e)}]]],2:[2,"Desktop_300x250_2","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR2$"},[[5,"11002903",0,0],[10,"193271",{size:"300x250"},0],[116,"265177797",0,0],[114,"4817332",{size:"300x250"},0],[4,"540307315",0,0],[2,"604644",{site:"127964"},0]]],3:[3,"Desktop_300x250_3","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR3$"},[[5,"11002904",0,0],[10,"193272",{size:"300x250"},0],[116,"157131625",0,0],[114,"4817334",{size:"300x250"},0],[4,"540307316",0,0],[2,"604646",{site:"127964"},0],[18,"healthline_desktop_rightrail_300x600_pos3_AB",0,function(e,t){return t.new_tl_test(e)}]]],4:[4,"Desktop_300x250_4","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR4$"},[[5,"11002905",0,0],[10,"193273",{size:"300x250"},0],[116,"171862636",0,0],[114,"4817333",{size:"300x250"},0],[4,"540307317",0,0],[2,"604648",{site:"127964"},0]]],5:[5,"Desktop_300x250_5","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR5$"},[[5,"11002906",0,0],[10,"193274",{size:"300x250"},0],[116,"662144784",0,0],[114,"4817329",{size:"300x250"},0],[4,"540307318",0,0],[2,"604650",{site:"127964"},0]]],6:[6,"Desktop_300x250_6","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR6$"},[[5,"11002907",0,0],[10,"193275",{size:"300x250"},0],[116,"753865295",0,0],[114,"4817331",{size:"300x250"},0],[4,"540307320",0,0],[2,"604652",{site:"127964"},0]]],7:[7,"Desktop_300x250_7","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR7$"},[[5,"11002908",0,0],[10,"193276",{size:"300x250"},0],[116,"661335883",0,0],[114,"4817330",{size:"300x250"},0],[4,"540307321",0,0],[2,"604654",{site:"127964"},0]]],8:[8,"Desktop_300x250_8","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR8$"},[[5,"11002909",0,0],[10,"193277",{size:"300x250"},0],[116,"537318873",0,0],[114,"4817335",{size:"300x250"},0],[4,"540307322",0,0],[2,"604656",{site:"127964"},0]]],9:[9,"Desktop_300x250_9","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR9$"},[[5,"11002910",0,0],[10,"193278",{size:"300x250"},0],[116,"787285489",0,0],[114,"4817336",{size:"300x250"},0],[4,"540307323",0,0],[2,"604658",{site:"127964"},0]]],10:[10,"Desktop_300x250_10","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"DMR10$"},[[5,"11002911",0,0],[10,"193279",{size:"300x250"},0],[116,"136586158",0,0],[114,"4817321",{size:"300x250"},0],[4,"540307332",0,0],[2,"604660",{site:"127964"},0]]],11:[11,"Desktop_300x250_11","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"D(CMR1|MR11)$"},[[5,"11002912",0,0],[10,"193280",{size:"300x250"},0],[116,"168330849",0,0],[114,"4817318",{size:"300x250"},0],[4,"540307346",0,0],[2,"604662",{site:"127964"},0]]],12:[12,"Desktop_300x250_12","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"D(CMR2|MR12)$"},[[5,"11002913",0,0],[10,"193281",{size:"300x250"},0],[116,"821682258",0,0],[114,"4817320",{size:"300x250"},0],[4,"540307347",0,0],[2,"604664",{site:"127964"},0]]],13:[13,"Desktop_300x250_13","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"D(CMR3|MR13)$"},[[5,"11002914",0,0],[10,"193282",{size:"300x250"},0],[116,"678963628",0,0],[114,"4817327",{size:"300x250"},0],[4,"540307348",0,0],[2,"604666",{site:"127964"},0]]],14:[14,"Desktop_300x250_14","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"D(CMR4|MR14)$"},[[5,"11002915",0,0],[10,"193283",{size:"300x250"},0],[116,"537717616",0,0],[114,"4817326",{size:"300x250"},0],[4,"540307349",0,0],[2,"604668",{site:"127964"},0]]],15:[15,"Desktop_300x250_15","300x250",["300x600"],.5,700,0,0,{"gpt.adunit_regex":"D(CMR5|MR15)$"},[[5,"11002916",0,0],[10,"193284",{size:"300x250"},0],[116,"571841601",0,0],[114,"4817328",{size:"300x250"},0],[4,"540307351",0,0],[2,"604670",{site:"127964"},0]]],16:[16,"Desktop_728x90_1","728x90",["970x250"],.5,700,0,0,{"gpt.adunit_regex":"DLB1$"},[[5,"11002896",0,0],[10,"193264",{size:"728x90"},0],[116,"814147833",0,0],[114,"4817322",{size:"728x90"},0],[4,"540307352",0,0],[2,"604630",{site:"127964"},0]]],17:[17,"Desktop_728x90_2","728x90",["970x250"],.5,700,0,0,{"gpt.adunit_regex":"DLB2$"},[[5,"11002897",0,0],[10,"193265",{size:"728x90"},0],[116,"275526781",0,0],[114,"4817319",{size:"728x90"},0],[4,"540307353",0,0],[2,"604632",{site:"127964"},0]]],18:[18,"Desktop_728x90_3","728x90",["970x250"],.5,700,0,0,{"gpt.adunit_regex":"DLB3$"},[[5,"11002898",0,0],[10,"193266",{size:"728x90"},0],[116,"679392274",0,0],[114,"4817316",{size:"728x90"},0],[4,"540307354",0,0],[2,"604634",{site:"127964"},0]]],19:[19,"Mobile_320x50","320x50",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MLB1$","vp.max_width":767},[[5,"11002922",0,0],[113,"738762996262850_739262459546237",{size:"320x50"},0],[10,"193290",{size:"320x50"},0],[116,"917839699",0,0],[114,"4817339",{size:"320x50"},0],[115,"healthline_mbl_leader_320x50_ad",{size:"320x50"},0],[4,"540307355",0,0],[2,"604682",{site:"127968"},0]]],20:[20,"Mobile_300x250_1","300x250",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MMR1$"},[[5,"11002923",0,0],[113,"738762996262850_739266686212481",{size:"300x250"},0],[10,"193291",{size:"300x250"},0],[116,"339384118",0,0],[114,"4817338",{size:"300x250"},0],[115,"healthline_mbl_mrec_1_adbridg",{size:"300x250"},0],[4,"540307376",0,0],[2,"604684",{site:"127968"},0],[18,"healthline_article_300x250_mobile_AB",0,function(e,t){return t.new_tl_test(e)}]]],21:[21,"Mobile_300x250_2","300x250",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MMR2$"},[[5,"11002924",0,0],[113,"738762996262850_845190815620067",{size:"300x250"},0],[10,"193292",{size:"300x250"},0],[116,"189578804",0,0],[114,"4817344",{size:"300x250"},0],[115,"healthline_mbl_mrec_2_adbridg",{size:"300x250"},0],[4,"540307377",0,0],[2,"604686",{site:"127968"},0],[18,"healthline_article_300x250_mobile_2_AB",0,function(e,t){return t.new_tl_test(e)}]]],22:[22,"Mobile_300x250_3","300x250",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MMR3$"},[[5,"11002925",0,0],[113,"738762996262850_845190938953388",{size:"300x250"},0],[10,"193293",{size:"300x250"},0],[116,"416732783",0,0],[114,"4817342",{size:"300x250"},0],[115,"healthline_mbl_mrec_3_adbridg",{size:"300x250"},0],[4,"540307378",0,0],[2,"604688",{site:"127968"},0],[18,"healthline_article_300x250_mobile_3_AB",0,function(e,t){return t.new_tl_test(e)}]]],23:[23,"Mobile_300x250_4","300x250",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MMR4$"},[[5,"11002926",0,0],[10,"193294",{size:"300x250"},0],[116,"579762571",0,0],[114,"4817341",{size:"300x250"},0],[115,"healthline_mbl_mrec_4_adbridg",{size:"300x250"},0],[4,"540307379",0,0],[2,"604690",{site:"127968"},0]]],24:[24,"Mobile_300x250_5","300x250",["300x50"],.5,700,0,0,{"gpt.adunit_regex":"MMR5$"},[[5,"11002927",0,0],[10,"193295",{size:"300x250"},0],[116,"823314966",0,0],[114,"4817340",{size:"300x250"},0],[115,"healthline_mbl_mrec_5_adbridg",{size:"300x250"},0],[4,"540307380",0,0],[2,"604692",{site:"127968"},0]]]}},d=function(e,t,i){var n=t.mapping_rules;if(!n)return!1;var r=e.get("gpt_slot"),a=r.getAdUnitPath(),o=e.get("gpt_sizes"),s=e.get("dom_id");for(var d in n){if(!n.hasOwnProperty(d))return;var c=n[d],u=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==d&&c<u)return!1;if("vp.min_width"==d&&u<c)return!1;if("lib"==d.substr(0,3)){var l=i[d.substr(4)];if(("function"==typeof l&&l(r,a,o,s))!=c)return!1}if("gpt.adunit"==d&&c!=a)return!1;if("gpt.adunit_regex"==d&&!new RegExp(c,"i").test(a))return!1;if("gpt.domid"==d&&c!=s)return!1;if("gpt.has_size"==d&&!o.match(c))return!1;if("gpt.no_size"==d&&o.match(c))return!1}return p.log("Unit mapped: ",s,"->",t.alias),!0},c=function(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}},u={},l={},i={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return p.logl("g","Global read: ",e,i[e]),i[e];i[e]=t,p.logl("g","Global set: ",e,t)},o.getId=function(){return s.c},o.libSettings=function(){return s.s},o.kvp=function(e){var t=s.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},o.proc=function(e){s.s.pub=s.s.pub||{},p.each(e,function(e,t){s.s.pub[t]=e}),p.log("Publisher config update: ",JSON.stringify(s.s.pub))},o.deca=function(e){if(s.s.alter_adb_pixel)try{e=s.s.alter_adb_pixel(e)}catch(e){p.err("Alter adb fail",e)}return e};o.configureUnit=function(e,t){var i=!1,n=[];for(var r in s.u)if(s.u.hasOwnProperty(r)){var a=c(0,s.u[r]);if(!s.s.dynamic_configuration||(a=s.s.dynamic_configuration(a,s.s))){if(t){if(t!=a.id)continue;i=a;break}if(a.rule_order)n[a.rule_order]=a;else if(d(e,a,s.s)){i=a;break}}}if(!i&&n.length)for(var o=0;o<n.length;++o)if(n[o]&&d(e,n[o],s.s)){i=n[o];break}i&&(e.configure(i),function(e,t){var i;if(t.bid_req_confs&&t.bid_req_confs.length)for(var n=0;n<t.bid_req_confs.length;++n){var r=t.bid_req_confs[n],a={bidder_id:(i=r)[0],bidder_unit_id:i[1],settings:i[2]||{},mutate:i[3]||!1},o=l[String(a.bidder_id)];p.qsab(o,a.bidder_id)&&(e.addBidder(o,u[o]),e.addBidReqConf(o,a,s.s))}}(e,i))},o.units=function(i){p.each(s.u,function(e,t){i(c(0,e))})},s.s.usp&&p.cfusp(s.s.usp.image,s.s.usp.iframe,s.s.usp.delay);var a=!1,g=!1,f=!1,h=!1,m=!1,_=s.s.cmp_allow_geofail,v=[],b=[],x=p.qs("adb_gdpr"),y=!1,w=s.s.cmp;"function"==typeof w&&(w=w());var A,z,S=s.s.cmp_fallback,k=0,j=function(e){for(y=e;b.length;)b.shift()(y)};o.afterConsent=function(e){clearTimeout(A);var t=s.s.cmp_check_interval,i=s.s.cmp_check_max,n="function"==typeof e;if(w)if(y)n&&e(y);else{if(n&&(e=p.wrapAsync(e),b.push(e)),"iab"==w||"conversant"==w){if("function"!=typeof window.__cmp)return t&&k<i?(g||(g=!0,p.log("CMP not present; checking every ",t,"ms; max ",i,"intervals")),void(A=setTimeout(function(){++k,o.afterConsent()},t))):void(z||(z=!0,S?(w=S,p.err("CMP fallback to",w),setTimeout(function(){o.afterConsent()},0)):p.err("CMP object not found; exiting!")));if(a)return;return a=!0,p.log("CMP check"),void __cmp("getVendorConsents",null,function(e){p.log("CMP consent: ",e);var t={consentString:e?"iab"==w?e.consentData:e.metadata:void 0,vendorData:e?e.vendorConsents:void 0,gdprApplies:e?e.gdprApplies:void 0};j(t)})}f||"geoblock"!=w&&"geoblockbids"!=w&&"geocmp"!=w||(f=!0,function(e){if(!m&&x&&(p.log("Emulating GDPR"),m={cc:"XX",gdpr:!0}),!m&&p.cr("adbnoteu")&&(p.log("Non-GDPR geo cookie found"),m={cc:"XX",gdpr:!1}),m)return e(m);v.push(e),h||(h=!0,p.log("Geolocation requested"),r({url:("http:"===location.protocol?"http:":"https:")+"//cc.adspsp.com",withCredentials:!0},function(e,t){if(e){if(p.err("geobfail1",e),!_)return;m={cc:"11",gdpr:!1}}else try{m=JSON.parse(t)}catch(e){if(p.err("geobfail2",e),!_)return;m={cc:"22",gdpr:!1}}for(p.log("Geolocation result",m),m.gdpr||p.cw("adbnoteu",1,5);v.length;)v.shift()(m)}))}(function(e){return e.gdpr?"geocmp"==w?(w=s.s.cmp_for_geo,a=f=!1,p.log("GDPR applies, establishing dependency on CMP: ",w),void setTimeout(function(){o.afterConsent()},0)):"geoblock"==w?p.err("GDPR block all",e.cc):(p.err("GDPR block bids, allow DFP; cmp=",w),s.u=[],s.s.gptnpa&&(p.log("Setting NonPersonalizedAds=1"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)})),j({gdprApplies:!0,consentString:""}),void(f=!1)):(p.log("GDPR OK: CC",e.cc," not in EU."),j({gdprApplies:!1,consentString:""}),void(f=!1))}))}else n&&e()};var n=function(n,r,a){o.afterConsent(function(e){if(e&&e.gdprApplies&&!e.consentString)return p.log("GDPR skip register",n,e);if(u[n])p.err("Duplicate bidder alias "+n);else{var t,i={bidder_id:(t=a)[0],settings:t[1]||{},mutate:t[2]||!1};i?(s.s.ajax_ms&&(i.settings.ajax_ms=s.s.ajax_ms),u[n]=new r(n,i.bidder_id,i.settings,e),u[n].alias=n,u[n].id=i.bidder_id,u[n].settings=i.settings,u[n].mutate=i.mutate||!1,l[String(i.bidder_id)]=n):p.err("No bidder info found for "+n)}})},B=(e("./modules.js"),e("./adapters/triplelift.js")),R=e("./adapters/rubicon.js"),E=e("./adapters/openx.js"),D=e("./adapters/aol.js"),T=e("./adapters/medianet.js"),C=e("./adapters/index.js"),I=e("./adapters/fan.js");n("appnexus",e("./adapters/appnexusast.js"),[5,0,0]),n("fan",I,[113,{min_cpm:1},0]),n("ix",C,[10,0,0]),n("medianet",T,[116,{cid:"8CUPK277N"},function(e,t){return!!t.iscausuk(t)&&e}]),n("onedisplay",D,[114,{network:"9502.1"},0]),n("onemobile",D,[115,{dcn:"2c9d2b4f01636323f0a72cec3db30132",api:"onemobile"},0]),n("openx",E,[4,{delDomain:"healthline-d.openx.net"},0]),n("rubicon",R,[2,{account:11314},0]),n("triplelift",B,[18,{check_gdpr:!0},0])},{"./adapters/aol.js":1,"./adapters/appnexusast.js":2,"./adapters/fan.js":3,"./adapters/index.js":4,"./adapters/medianet.js":5,"./adapters/openx.js":6,"./adapters/rubicon.js":7,"./adapters/triplelift.js":8,"./ajax":9,"./modules.js":14,"./utils":20}],13:[function(e,t,n){var m=e("../utils.js"),c=e("../unit.js"),u=e("../auction.js"),g=e("../config.js"),p=e("../analytics.js"),f=e("../modules.js");if(!m.qs("adb_off")&&(window.googletag=window.googletag||{cmd:[]},window.AdBridg=window.AdBridg||{cmd:[]},!googletag||!googletag.cmd||googletag.cmd!==AdBridg.cmd)){var s=!(AdBridg.exists=!0),d=[],a=!1,_=[],r=[],v={},l={},o=!1,h=[],b=[],x={},y=[],w="Workflow |",A=!0,z=g.libSettings().sra_if;(z&&!z()||g.libSettings().no_sra)&&(A=!1);var S={},k=function(e,t){e=Math.round(100*e);for(var i=function(e){if(e||(e=".05:.05-10"),!S[e]){S[e]=[];for(var t=e.split(","),i=0;i<t.length;++i){var n=t[i].split(":"),r=n[1].split("-"),a={increment:Math.round(100*parseFloat(n[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};i==t.length-1&&(a.final=a.upper-a.increment),S[e].push(a)}}return S[e]}(t),n=0;n<i.length;++n){var r=i[n];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var a=Math.floor(e/r.increment)*r.increment/100,o=parseFloat((a+r.increment/100).toFixed(2)),s=o-.01;return{r:o,kv:Math.max(.01,a).toFixed(2)+"-"+s.toFixed(2)}}}},j=function(e){var t,i,n=g.libSettings().gpt_clear_kvps,r=[],a=e.getTargetingMap(),o=!1;for(i in a)a.hasOwnProperty(i)&&("adb_"==i.substr(0,4)||n&&0<=n.indexOf(i)?o=!0:r.push([i,a[i]]));if(o)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);B(e)},B=function(e){var t=g.libSettings().gpt_exclusions;if(t){do_erase=!1;var n=e.getCategoryExclusions();for(i=n.length-1;0<=i;--i){var r=n[i];t.hasOwnProperty(r)&&(n.splice(i,1),do_erase=!0)}if(do_erase)for(e.clearCategoryExclusions(),i=0;i<n.length;++i)e.setCategoryExclusion(n[i])}},R=function(e,t){var i=g.libSettings().gpt_exclusions;if(i){var n=[];for(var r in i){i[r]<=t&&(e.setCategoryExclusion(r),n.push(r))}n.length&&m.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",n)}},E=function(t,i,a){0;return m.wrapAsync(function(r){Y("ra",function(){var n=[];r.eachUnit(function(t){if(r===s){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=g.libSettings().post_auc_ufilter;if(e){var i=e(t,a);if(i)return void m.log("Ignoring",t.alias,t.get("dom_id"),i)}}catch(e){m.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{if(t.settings.require_bid&&!t.getWinner())return m.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void m.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();!function(e){var t=g.libSettings().bid_strategy,i=e.getWinner(),n=e.get("gpt_slot");j(n),f.trigger("gpt.set_targeting",e,n);var r=e.get("adb_imp_data");if(r){var a=n.getTargeting("adb_imp")||[];m.isarr(a)||(a=[a]),m.each(r,function(e,t){e&&-1==a.indexOf(e)&&a.push(e)}),a.length&&n.setTargeting(g.kvp("adb_imp"),a)}if(g.libSettings().track_alias&&n.setTargeting(g.kvp("adb_cfg"),e.alias),!i)return n.setTargeting(g.kvp("adb_bdr"),["none"]),R(n,-1),f.trigger("gpt.no_hbc",e,n,function(e){return k(e,t)},function(e,t){B(e),R(e,t)});var o=(x[i.id]=i).config.bidder_name,s=i.cpm,d=g.libSettings().cur;d&&(d.exclude&&-1<d.exclude.indexOf(i.config.bidder_id)?m.log("Currency conversion skipped: ",i.config.bidder_name):(m.log("Currency conversion: USD = ",s,"; Rate = ",d.rate,"; DFP = ",d.rate*s),s*=d.rate));var c=k(s,t),u=c.kv;f.trigger("gpt.modify_hbc",e,n,{bid:i,range:c,mod:function(e){return c=k(s=e,t),u=c.kv,c}}),m.qs("adb_force_bidder")&&(o="force",u="");var l=g.libSettings().vs_threshold;if("function"==typeof l)try{var p=l(s);p&&n.setTargeting(g.kvp("adb_vs"),p)}catch(e){m.err("HVfail",e)}n.setTargeting(g.kvp("adb_bdr"),[o]),n.setTargeting(g.kvp("adb_hbc"),[u]),n.setTargeting(g.kvp("adb_adid"),[i.id]),m.log("Set GPT targeting for ",n.getAdUnitPath()," / ",n.getSlotElementId(),": ",o,u),R(n,s)}(t),n.push(t.get("gpt_slot"))}catch(e){m.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e=b.concat(n);if(b=[],I(e),"function"==typeof t&&t(r),A&&!(e=M(e)).length)return m.err("All units cancelled",r.id);(A||a)&&(F(),m.log(w,"GPT Batch: ",e.length),googletag.pubads().refresh(e,i),f.trigger("gpt.request_adbridg",r,a))})})},D=function(){if(o){var e=h.length;if((h=M(h)).length){if(m.isdebug()){var t=[];m.each(h,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),m.log("Non-bid request with",h.length," units: ",t)}Y("rp",function(){var e=h;h=[],e.length&&(F(),I(e),m.log(w,"GPT PT Batch: ",e.length),googletag.pubads().refresh(e),f.trigger("gpt.request_passthrough",e))})}else e&&m.err("PT units cancelled")}},T={},C={},I=function(e){m.each(e,function(e){var t=e.getSlotElementId(),i=(C[t]||0)+1;C[t]=i;var n=g.libSettings().track_imps;if(n)try{"string"!=typeof n&&(n="1:1-11"),imp_tracking=Math.floor(k(i,n).kv.split("-")[0]);for(var r=e.getTargeting("adb_imp"),a=r.length-1;0<=a;--a)String(r[a]).match(/^\d+$/)&&r.splice(a,1);r.push(imp_tracking),e.setTargeting(g.kvp("adb_imp"),r)}catch(e){m.err("Counter failed: ",e)}})},q={},U=function(e){m.log("Locked slot: ",e.getSlotElementId()),q[e.getSlotElementId()]=!0},M=m.wrapAsync(function(e,a){var o=g.libSettings().block_check,s=g.libSettings().max_imp_ctr,d=[];return m.each(e,function(e){if(e){if(a){if(q[e.getSlotElementId()])return m.log("Cannot refresh locked dom_id: ",e.getSlotElementId());if(s){var t=e.getSlotElementId(),i=C[t]||0;if(s<=i)return T[t]?m.log("Slot excluded; too many imps: ",e,i+" > "+s):m.err("Slot imp max: ",e.getAdUnitPath(),t,s)}}if(o){var n=o(e);if(n)return m.err("Slot excluded P",n)}var r=[];if(f.trigger("gpt.filter_slot",e,a,r),r.length)return m.log("Module blocking",e,r);d.push(e)}}),d}),P=function(e,n,r){var a=[];a=Number(e[0])==e[0]?[e]:[].concat(e);var o=[];if(m.each(a,function(e,t){if("string"==typeof e[t]){var i=e[t].split("x");return 0!=i[0]&&0!=i[1]||m.err("0 size in",n,r,e[t]),void(e[t].match(/^\d+x\d+$/)||o.push(t))}0!=e[0]&&0!=e[1]||m.err("0 size in",n,r,e.join("x")),a[t]=e.join("x")}),o.length)for(var t=o.length-1;0<=t;--t)a.splice(t,1);return a};window.AdBridg.defineSlot=m.wrapAsync(function(e,t,i){var n=googletag.defineSlot(e,t,i);if(!n)return n;n.addService(googletag.pubads()),U(n);var r=P(t,e,i),a=r.join(","),o=new c({dom_id:i,gpt_slot:n,gpt_sizes:a});o.restrictSizesTo(r),v[i]=a;var s=g.libSettings().lazy;return"function"==typeof s&&(s=s(o,n,i,g.libSettings())),s&&(m.log("Requiring lazy: ",i),o.set("lock.lazy",1),m.dom(i,400,0,function(){m.logl("wf",w,"unit triggered lazy load",o.alias,o.get("dom_id")),o.set("lock.lazy",!1),AdBridg.serve()})),_.push(o),m.log(w,"Defined slot: ",e,i,a),f.trigger("gpt.define",o,n,e,t,i),g.libSettings().allow_serve_from_display&&l[i]&&(m.logl("wf",w,"triggering serve from define after display",i),AdBridg.serve()),n}),window.AdBridg.defineOutOfPageSlot=m.wrapAsync(function(e,t){var i=googletag.defineOutOfPageSlot(e,t);if(!i)return i;i.addService(googletag.pubads()),U(i);var n=new c({dom_id:t,gpt_slot:i,gpt_sizes:""});return _.push(n),m.log(w,"Defined OOP slot: ",e,t),f.trigger("gpt.define",n,i,e,!1,t),g.libSettings().allow_serve_from_display&&l[t]&&(m.logl("wf",w,"triggering serve from defineOOP after display",t),AdBridg.serve()),i}),window.AdBridg.display=m.wrapAsync(function(e,t,i){if(i?(AdBridg.defineSlot(e,t,i),AdBridg.serve()):i=e,l[i]=!0,m.logl("wf",w,"display received",i),g.libSettings().allow_serve_from_display&&_.length&&(m.logl("wf",w,"triggering serve from display",i),AdBridg.serve()),o=!0,!A){_.length&&(r=r.concat(_),_=[]);for(var n=r.length-1;0<=n;--n)if(r[n].get("dom_id")==i){_.push(r.splice(n,1)[0]);break}return _.length?void H(function(){Y("dn",function(){F(),m.logl("wf",w,"display resolved",i),googletag.display(i),f.trigger("gpt.request_nosra",i)})}):void m.err("Display called for ",i," but no unit found")}Y("ds",function(){F(),m.logl("wf",w,"display resolved",i),googletag.display(i)}),D()}),window.AdBridg.refresh=m.wrapAsync(function(e,t){if(e||(e=googletag.pubads().getSlots()),g.libSettings().allow_serve_from_refresh&&_.length){for(var i=e.length-1;0<=i;i--)for(var n=_.length-1;0<=n;n--)e[i]===_[n].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}var r=e.length;if(e=M(e,!0),m.logl("wf",w,"refresh: ",r,"slots requested; ",r-e.length,"filtered out;",e.length,"remaining."),e.length){var a=new u,o="no_auction"!=g.libSettings().refresh,s=[],d=[];m.each(e,function(e){try{j(e)}catch(e){return m.err("Failed to clear slot: ",e)}U(e);var t=e.getSlotElementId(),i=v[t]||"",n=new c({dom_id:t,gpt_slot:e,gpt_sizes:i});n.restrictSizesTo(i.split(",")),o&&g.configureUnit(n),n.hasBidReqConf()?a.addUnit(n):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(m.log("Refreshing",s.length,"non-bid units: ",d),Y("rn",function(){F(),I(s),m.log(w,"GPT RF Batch: ",s.length),googletag.pubads().refresh(s,t),f.trigger("gpt.request_passthrough",s,!0)})),a.hasUnit()&&(y.push(a),a.execute(E(null,t,!0)))}else r&&m.err("RF units cancelled")});var O=m.wrapAsync(function(e){var t=String(e.message?e.message:e.data),i=t.substr(0,9);return"adbsrverr"==i?m.err("Safeframe error: ",t.substr(10)):"adbsrvlog"==i?m.log("Safeframe: ",t.substr(10)):void("adbsrvreq"==i&&AdBridg.render({safeframe:!0,source:e.source},t.substr(10)))});window.addEventListener?window.addEventListener("message",O,!1):document.attachEvent&&window.attachEvent("onmessage",O),window.AdBridg.render=m.wrapAsync(function(t,e){if(x[e]){var i=x[e];m.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name," BR ",i.config.id),p.bidRendered(i);var n={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras},r=JSON.stringify(n);if(f.trigger("bid.render",i,n),t.safeframe&&t.source&&t.source.postMessage){var a=g.libSettings().pmmutatefn;if(!i.creative)return m.err("Safeframe render fail: no creative");var o={ad:"\x3c!-- AdBridg Delivery (SF): "+r+" --\x3e"+i.creative};"function"==typeof a&&(o=a(i,o)),t.source.postMessage("adbsrvad:"+JSON.stringify(o),"*")}else if(i.creative){var s=g.libSettings().pubrenderfn,d=!1;"function"==typeof s&&(t.write("\x3c!-- AdBridg Delivery (ER): "+r+" --\x3e"),s(t,i.creative,i.config.bidder_name,i.width,i.height,i)?(d=!0,m.log("Creative rendered externally")):m.log("External render skipped")),d||(t.write("\x3c!-- AdBridg Delivery: "+r+" --\x3e"),t.write(i.creative),t.close())}else{if(!i.creative_url)return m.err("No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);try{var c=m.iiframe();c.width=i.width,c.height=i.height,c.style.display="inline",c.style.overflow="hidden",c.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+r)),t.body.appendChild(c)}catch(e){m.err("Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}}if(t.safeframe)try{var u=document.getElementById(i.config.unit.get("dom_id")).getElementsByTagName("iframe");m.each(u,function(e){e.contentWindow===t.source&&(m.logl("RS","RS SF element: ",e.id,i.width,i.height),m.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(m.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),m.resize_element(e.parentNode,i.width,i.height)))})}catch(e){m.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),m.logl("RS","RS iframe: ",i.width,i.height),m.resize_iframe(window,t,i.width,i.height);var l=g.libSettings().post_render;"function"==typeof l&&l(i)}else m.err("Render failed for ID ",e)});var N=[];window.AdBridg.sizeMapping=m.wrapAsync(function(){var e,i=[],n=googletag.sizeMapping(),r={addSize:m.wrapAsync(function(e,t){return n.addSize(e,t),i.push([e,t]),r}),build:m.wrapAsync(function(){return e=n.build(),N.push({gpt_map:e,sizes:i}),e})};return r}),window.AdBridg.useSizeMapping=m.wrapAsync(function(e,t,i){var n,r=!1,a=e.getSlotElementId(),o=e.getAdUnitPath();for(n=N.length-1;0<=n;--n)if(N[n].gpt_map===t){r=N[n].sizes;break}if(r){var s=m.vp(),d=s.w,c=s.h,u=!1,l=[];for(n=r.length-1;0<=n;--n){var p=r[n][0];if(d>=p[0]&&c>=p[1]){if(u){if(u[0]>p[0])continue;if(u[0]==p[0]&&u[1]>p[1])continue}u=p,l=r[n][1]}}var g=P(l,o,a),f=g.join(",");v[a]=f;var h=i||!1;if(!h)for(n=_.length-1;0<=n;--n)if(_[n].get("gpt_slot")===e){h=_[n];break}if(!h)return m.err("No unit for size map: ",o,a);h.set("gpt_sizes",f),h.restrictSizesTo(g),f?m.log("Applied size mapping to ",a," / ",o,": ",f):m.log("Excluding unit ",a," / ",o," because it has no valid sizes")}else m.err("Size mapping not found: ",o,a)}),window.AdBridg.resetInternals=function(){};var L=!(window.AdBridg.destroySlots=function(e){e||(e=googletag.pubads().getSlots());var i=[];return m.each(e,function(e){if(e){var t=e.getSlotElementId();delete C[t],delete v[t],delete q[t],delete l[t],m.undom(t),f.trigger("gpt.destroy",e,t),i.push(t)}}),m.log("Destroyed slots: ",i),googletag.destroySlots(e)}),F=function(){if(!L){L=!0;var e=g.libSettings().before_gpt;"function"==typeof e&&m.wrapAsync(e)(),googletag.enableServices()}},G=!1,H=m.wrapAsync(function(e){m.logl("wf",w,"serve called with",_.length,"pending units");var t=!1;F();for(var i=!1,n=0;_.length>n;){var r=_.shift();if(r.get("lock.lazy"))m.logl("wf",w,"serve skipped lazy",r.alias,r.get("dom_id")),n+=1,_.push(r);else if(g.configureUnit(r),r.hasBidReqConf()){if(s){var a=d.indexOf(r.id);if(0<=a){var o=!1;if(s.eachUnit(function(e){if(e.id==r.id){o=!0,d.splice(a,1),m.log("Proxy into preload ",r.alias);var t=r.get("gpt_slot"),i=r.get("dom_id"),n=v[i]||r.get("gpt_sizes")||"";e.set({dom_id:i,gpt_slot:t,gpt_sizes:n}),e.restrictSizesTo(n.split(",")),f.trigger("unit.pre_attach",e)}}),o){i=!0;continue}}}t||(t=new u),t.addUnit(r)}else A?h.push(r.get("gpt_slot")):(I([r.get("gpt_slot")]),m.thread(e)())}(t||s)&&g.libSettings().gpt_keep_oop&&h.length&&(m.log("Batching passthrough units with auction units"),b=b.concat(h),h=[]),t&&(y.push(t),t.execute(E(e)),t=!1),i&&!G&&(G=!0,re(E())),D()}),$=!1;window.AdBridg.serve=function(e){if(clearTimeout($),A){m.logl("wf",w,"queuing serve");var t=g.libSettings().batch_delay;if("function"==typeof t&&(t=t(_)),0===t)return m.log("Starting auctions ASAP."),H(e);t||(t=100),$=setTimeout(function(){H(e)},t)}};var J=function(e){for(var t,i,n=y.length-1;0<=n&&!(t=(i=y[n]).findUnit(e));--n);return!t&&s&&(t=(i=s).findUnit(e)),!!t&&{auction:i,unit:t}},W=m.wrapAsync(function(t){try{e=t.slot,m.log("Unlocked slot: ",e.getSlotElementId()),q[e.getSlotElementId()]=!1,j(e)}catch(e){m.err("Unlock failed")}var e;f.trigger("gpt.render_raw",t);var i=J(function(e){return e.get("gpt_slot")===t.slot});if(i){if(!i.auction)return m.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());p.gptRendered(i.auction,i.unit,t),f.trigger("gpt.render",i.unit,t),m.qdusp()}}),X=m.wrapAsync(function(t){var e=J(function(e){return e.get("gpt_slot")===t.slot});if(e){p.gptViewed(e.auction,e.unit);try{var i=g.libSettings().post_view;"function"==typeof i&&i(t,e.unit)}catch(e){m.err("PostView fail",e)}f.trigger("gpt.viewed",t.slot,e.unit)}}),V=[],K={};window.AdBridg.lock=function(e){if(K[e])return K[e]=null,m.log("-== GPT lock already cleared: ",e);m.log("-== GPT locked by: ",e),V.push(e)},window.AdBridg.unlock=function(e,t){for(var i=!1,n=0;n<V.length;++n)if(V[n]==e){m.log("-== GPT lock cleared: ",e),V.splice(n,1),i=!0;break}i||t||(K[e]=!0,m.log("-== GPT unrecognized lock cleared: ",e)),Z()};var Q=[],Y=function(e,t){Q.push({n:e,f:m.wrapAsync(t)}),Z()},Z=function(){if(!V.length)for(Q.length;Q.length;){Q.shift().f()}},ee=0,te=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),ee<=99&&(ee+=1),p.meta("wb",ee)})},ie=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),p.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",te),window.addEventListener("focus",ie)):window.attachEvent&&(window.attachEvent("onblur",te),window.attachEvent("onfocus",ie)),m.isdebug()&&(AdBridg.auctions=y,AdBridg.utils=m);var ne=m.wrapAsync(function(){f.trigger("adb.init"),googletag.pubads().addEventListener("slotRenderEnded",W),googletag.pubads().addEventListener("impressionViewable",X),AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if("object"==typeof t&&(t.config&&g.proc(t.config),!t.gpt_path&&t.events&&m.each(t.events,function(e,t){f.on(t,e)}),t.gpt_path||t.length))try{m.log("Initialization command object processing:",t);var e=function(r){googletag.cmd.push(function(){var i=AdBridg.defineSlot(r.gpt_path,r.size||[],r.dom_id);if(r.size_map){for(var e=AdBridg.sizeMapping(),t=0;t<r.size_map.length;t++)e=e.addSize(r.size_map[t].viewport,r.size_map[t].sizes);e=e.build(),i.defineSizeMapping(e),AdBridg.useSizeMapping(i,e)}if(r.events){r.events["gpt.defined"]&&r.events["gpt.defined"](i);var n=function(t,e){r.events[t]&&googletag.pubads().addEventListener(e,function(e){e.slot===i&&r.events[t](i,e)})};n("gpt.rendered","slotRenderEnded"),n("gpt.viewed","impressionViewable"),n("gpt.visibilityChanged","slotVisibilityChanged")}})};if(t.length)for(var i=0;i<t.length;++i)e(t[i]);else e(t);t=function(){AdBridg.serve()}}catch(e){m.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){m.err("AdBridg.cmd had error: ",t,e)}},0)};var e=g.libSettings().initfn;for(e&&AdBridg.cmd.push(e);AdBridg.cmd.length;){var t=AdBridg.cmd.shift();AdBridg.cmd.push(t)}});window.AdBridg.lazy=function(e,t,i,n){"function"==typeof i&&(n=i,i=0),m.dom(e,t,i,n)},m.log("First execution."),g.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){for(var t=g.libSettings().preload&&g.libSettings().preload()||[],i=function(i){var n=function(e){var t=[],i=function(e){2==e.length&&1<e[0]&&1<e[1]?t.push(e):m.err("Invalid preload size: ",e)};return m.isarr(e)&&(m.isarr(e[0])?m.each(e,i):i(e)),t},r=n(i.size||[]);return function(){var e=AdBridg.defineSlot(i.gpt_path,r,i.dom_id);if(m.isarr(i.size_map)){var t=AdBridg.sizeMapping();m.each(i.size_map,function(e){t.addSize(e.viewport,n(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)}AdBridg.serve()}},n=AdBridg.cmd.length;0<=n;n--){var r=AdBridg.cmd[n];r&&r.gpt_path&&(AdBridg.cmd.splice(n,1,i(r)),t.unshift(21))}t&&t.length&&(s=new u,m.each(t,function(e){if(e=parseInt(e,10),m.log("Preloading",e),e){var t=new c;if(g.configureUnit(t,e),!t.hasBidReqConf())return m.err("Preload bad id",e);d.push(e),s.addUnit(t)}}),s.hasUnit()&&(m.log("Preload kickoff",s),s.execute(m.wrapAsync(function(e){m.log("Preload complete"),a&&a(e)}))))}});var re=function(e){s.isDone()?e(s):a=e};g.afterConsent(function(){googletag.cmd.push(function(){m.log("Initializing. SRA is",(A?"enabled":"disabled")+"."),A&&(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad()),ne()})})}},{"../analytics.js":10,"../auction.js":11,"../config.js":12,"../modules.js":14,"../unit.js":19,"../utils.js":20}],14:[function(e,t,i){var p=e("./utils.js"),n=[],r=function(e){n.push(e)},a={},o={on:function(e,t){p.isarr(e)||(e=[e]),p.each(e,function(e){a[e]||(a[e]=[]),a[e].push(t)})}};i.trigger=p.wrapAsync(function(e){var t=arguments,i=(a[e]||[]).concat(a["*"]||[]);p.each(i,p.wrapAsync(function(e){e.apply(null,t)}))});var s=!1;p.onerr(p.wrapAsync(function(){if(s)return console&&console.log("AdBridg nested module errors"),void p.pixel("//adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest");s=!0,i.trigger("error",arguments),s=!1})),i.on=p.wrapAsync(function(e,t){o.on(e,t)});try{r(new(e("./modules/lzest.js"))({},o)),r(new(e("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon"},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang"}}},o)),r(new(e("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","320x50","728x90","970x250"],load_apstag:!1,init:function(e){return e.pub||AdBridg.global("HLpubreport")||(AdBridg.global("HLpubreport",1),p.log("Healthline config not detected; using globals")),(e.pub?e.pub.skipGDPR:((__NEXT_DATA__||{}).query||{}).skipGDPR)||(window.initParams||{}).gdpr?(!(e.pub?e.pub.sponsorship:(((__NEXT_DATA__||{}).props||{}).adTargeting||{}).isSponsored)||"US"!==HL.c.countryCode)&&{skip_init:!0}:(p.log("Amazon/HL GDPR not set yet; skipping initialization request."),!1)}},o)),r(new(e("./modules/emit.js"))({"gpt.render":function(e,t,i){var n=t.get("dom_id"),r=(i.slot,t.alias),a=i.slot.getAdUnitPath(),o=i.advertiserId+"."+i.creativeId+"."+i.sourceAgnosticCreativeId,s=t.getWinner(),d=s&&s.cpm||0,c=!1,u=!1,l=["HLVE",[t.id,d,p.dts()]];t.trackView=p.wrapAsync(function(e){"GPT"==e?(p.log("GPT view event",{auction:r,dom_id:n,ad_unit_path:a}),c=!0):c||p.err("No GPT view",[r,n,a,o]),u||(u=!0,l.push([e[0],p.dts()]),setTimeout(p.wrapAsync(function(){l.push(p.dts()),p.dom(n,400,0,function(){var e;l.push(p.dts()),p.rec((e=l,JSON.stringify(e)))})}),3e4)),delete t.trackView}),p.dom(n,.5,1e3,function(){p.log("AdBridg view event",{auction:r,dom_id:n,ad_unit_path:a}),setTimeout(function(){t.trackView&&t.trackView("AdBridg")},3e3)})}},o))}catch(e){p.err("Module failed",e)}},{"./modules/amazon.js":15,"./modules/emit.js":16,"./modules/gprog.js":17,"./modules/lzest.js":18,"./utils.js":20}],15:[function(e,t,i){var p=e("../utils.js"),a=e("../config.js"),g=(t.exports=function(s,e){var d={},c={},o={},u=function(e){var n=[],r=s.allowed_sizes;return p.each(e,function(e,t){if(r&&-1==r.indexOf(e))return p.log("Amazon unsupported size: ",e);var i=e.split("x");i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10),n.push(i)}),n},t=!p.qs("adb_enable_amzn")&&s.test;"function"==typeof t&&(t=t());var i=s.load_apstag;"function"==typeof i&&(i=i());var n=!1,r=!1,l=function(){if(n)return t;var e=s.init;return"function"==typeof e&&(e=e(a.libSettings())),e?(n=!0,t?(p.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),t):window.apstag?(e.skip_init||apstag.init(e),void p.log("Amazon initialized:",e)):(i||r||(p.err("Amazon library not found."),r=!0),t=!0)):(p.log("Amazon init bypassed."),!1)};t||!i||g()||(t=n=!0),e.on("unit.config",function(e,t){if(!l()){var i=t.get("dom_id"),n=t.get("gpt_slot");if(!i||!n)return p.log("Amazon skip",i,n);var r=n.getAdUnitPath()+"",a=s.get_slot_name?s.get_slot_name(r,i,n,t):(r.match(/([^\/]+)$/)||[""])[0];if(!a)return p.err("Amazon noname: ",a,i,r);var o={slotID:i,slotName:a,sizes:c[i]||u(t.all_sizes)};d[i]=o,p.log("Amazon slot configured",o,!!c[i])}}),e.on("unit.restrict_sizes",function(e,t,i){if(!l()){var n=t.get("dom_id");i=u(i),c[n]=i;var r=d[n];return r?(p.log("Amazon slot resize",r,i),void(r.sizes=i)):void 0}}),e.on("gpt.destroy",function(e,t,i){l()||(p.log("Amazon slot remove",i),delete d[i],delete c[i])}),e.on("unit.pre_attach",function(e,t){if(!l()){var i=t.get("dom_id"),n=d[i];if(!n)return p.log("Amazon preload mismatch",i);var r=t.auction,a="amazon."+t.id;r.lock(a),apstag.fetchBids({slots:[n],timeout:r.max_ms},p.wrapAsync(function(){p.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}r.unlock(a)}))}}),e.on("auction.start",function(e,t){if(!l()){var n=[];if(t.eachUnit(function(e){var t=e.get("dom_id"),i=d[t];i?(n.push(i),d[t]=null):p.log("Amazon no config",t)}),n.length){var i={slots:n,timeout:t.max_ms};p.log("Amazon request",t.id,i);var r="amazon."+t.id;o[r]=!0,t.lock(r);var a=setTimeout(p.wrapAsync(function(){o[r]&&(o[r]=!1,t.unlock(r),p.err("Amazon incomplete at 50"))}),t.max_ms+50);apstag.fetchBids(i,p.wrapAsync(function(){p.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){p.err("Amazon setBids",e)}clearTimeout(a),o[r]&&(o[r]=!1,t.unlock(r))}))}}})},function(){p.log("Loading Amazon dependency");try{!function(i,n,e,t,r,a,o){function s(e,t){n[i]._Q.push([e,t])}n[i]||(n[i]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(a=e.createElement("script")).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=e.getElementsByTagName("script")[0]).parentNode.insertBefore(a,o))}("apstag",window,document)}catch(e){return p.err("Amazon load failed",e),!1}return!0})},{"../config.js":12,"../utils.js":20}],16:[function(e,t,i){var n=e("../utils.js");t.exports=function(t,e){e.on("*",n.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":20}],17:[function(e,t,i){var p=e("../utils"),c=e("../config"),g=e("../analytics.js");t.exports=function(u,e){if(u.bidders){var i=c.libSettings();i.gpt_clear_kvps||(i.gpt_clear_kvps=[]),p.each(u.bidders,function(e,t){i.gpt_clear_kvps.push(e.deal),i.gpt_clear_kvps.push(e.adid)});var l={test:{creative:"ADBRIDG DEAL RENDER TEST",width:100,height:100,extras:{dealid:"fake"},config:{bidder_name:"test",unit:{alias:"fake"}}}};u.bidders.test={deal:"",adid:""};var n=p.wrapAsync(function(e,t){if(p.log("Gprog Deal Render Ad",t,l[t]),g.gprog(["render"]),l[t]){var i=l[t],n={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras},r=JSON.stringify(n),a=i.config.bidder_name,o=u.bidders[a],s=c.libSettings().pubrenderfn,d=!1;"function"==typeof s&&(e.write("\x3c!-- AdBridg Delivery (ER, "+o.adid+"="+t+"): "+r+" --\x3e"),s(e,i.creative,a,i.width,i.height,i)?(d=!0,p.log("Gprog Creative rendered externally")):p.log("Gprog External render skipped")),d||(e.write("\x3c!-- AdBridg Delivery ("+o.adid+"="+t+"): "+r+" --\x3e"),e.write(i.creative),e.close()),l[t]=!1,g.gprog(["render2",n])}else p.err("GprogBadDealid",t)}),r=window.top;r.pbjs=r.pbjs||{},r.pbjs.renderAd=n,e.on("auction.complete",function(e,t){!r.pbjs.renderAd!==n&&(r.pbjs.renderAd=n),t.eachBidRequest(function(i,n){var r=n.bidder_name,e=u.bidders[r];if(e){var a=e.deal,o=e.adid,t=i.get("gpt_slot"),s=i.get("dom_id");if(t&&s&&a&&o){var d=[],c=[];p.each(n.responses,function(e){if(e.extras&&e.extras.dealid){var t=n.id;l[t]&&l[t].creative!=e.creative&&p.err("GprogOWcreative"),l[t]=e,d.push(e.extras.dealid),c.push(n.id),p.log("GprogDeal ("+r+"): ",i.alias,"/",s,a,"=",e.extras.dealid,";",o,"=",n.id)}}),d.length&&(i.settings.gprog=i.settings.gprog||{},i.settings.gprog[a]=d,i.settings.gprog[o]=c)}}})}),e.on("gpt.set_targeting",function(e,t,i){t.settings.gprog&&p.each(t.settings.gprog,function(e,t){i.setTargeting(t,i.getTargeting(t).concat(e)),g.gprog(["set",t])})})}}},{"../analytics.js":10,"../config":12,"../utils":20}],18:[function(e,t,i){var n=e("../utils");t.exports=function(e,t){var r={},i={};t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return n.err("LzEstNoDom",e.alias);r[t]="lzno",i[t]&&(n.logl("lz","LzEst removing previous",t),n.undom(t,i[t])),i[t]=function(){n.logl("lz","LzEst triggered",t),r[t]="lzyes"},n.logl("lz","LzEst listen",t),n.dom(t,400,0,i[t])})}),t.on("gpt.set_targeting",function(e,t,i){var n=t.get("adb_imp_data")||{};n.lz=r[t.get("dom_id")]||"lzna",t.set("adb_imp_data",n)})}},{"../utils":20}],19:[function(e,t,i){var w=e("./utils"),A=e("./analytics"),z=e("./modules"),S=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.settings={},this.unique_id=w.genID("U"),this.auction=!1,this.all_sizes=[];var h=this,u={},m={},l=0,n={},_=[],p={},r=!1,v=!1,t=!1,b=!1,g=!1;this.init=function(){e&&h.set(e)},this.restrictSizesTo=function(e){g=e,z.trigger("unit.restrict_sizes",h,e)},this.configure=function(e){for(var t in e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?h.hasOwnProperty(t)&&"function"!=typeof h[t]&&(h[t]=e[t]):w.each(e[t],function(e,t){h.settings[t]=e}));h.all_sizes=[h.size].concat(h.other_sizes),w.qs("adb_force_bidder")&&(h.min_cpm=0),z.trigger("unit.config",h)},this.addBidder=function(e,t){p[e]=t},this.eachBidder=function(e){for(var t in p)p.hasOwnProperty(t)&&u[t]&&e(t,p[t])},this.hasBidReqConf=function(){return 0<l},this.addBidReqConf=function(e,t,i){var n={id:w.genID("BR"),unit:h,adjust:1,bidder_name:e,bidder_id:t.bidder_id,bidder_unit_id:t.bidder_unit_id,min_cpm:h.min_cpm,size:h.size,other_sizes:h.other_sizes,all_sizes:[],responses:[],late_responses:[],test:t.test};if(p[e]){var r;for(r in h.settings)h.settings.hasOwnProperty(r)&&(n[r]=h.settings[r]);for(r in t.settings)t.settings.hasOwnProperty(r)&&(n[r]=t.settings[r]);for(r in p[e].settings)p[e].settings.hasOwnProperty(r)&&(n[r]=p[e].settings[r]);var a=[],o=!1;if(t.mutate&&a.push({n:"BidReq",f:t.mutate}),p[e].mutate&&a.push({n:"Bidder",f:p[e].mutate}),w.each(a,function(e){e.f(n,i)||(o=!0,w.log(e.n+" mutate rejected BR: ",n))}),!o)if(!n.test||w.qsab(e,n.bidder_id,!0)){if(t.settings.size?n.other_sizes=[]:"string"==typeof n.other_sizes&&(n.other_sizes=n.other_sizes?n.other_sizes.split(","):[]),g){var s=[];0<=g.indexOf(n.size)&&s.push(n.size);for(var d=0;d<n.other_sizes.length;++d){var c=n.other_sizes[d];0<=g.indexOf(c)&&s.push(c)}if(!s.length)return void(g.length&&w.log("Unit ",h.alias," skipped configuration for ",n.bidder_name," because it does not support any of these sizes: ",g));n.size=s[0],n.other_sizes=s.slice(1)}n.all_sizes=[n.size].concat(n.other_sizes),u[e]||(u[e]=[]),u[e].push(n),m[n.id]=n,++l}else w.log("Test configuration skipped: ",n)}else w.err("BR missing bidder",e)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?w.each(u[e],t):w.each(m,t)},this.getBidReqConf=function(e){return m[e]||!1},this.set=function(e,t){if("object"!=typeof e)n[e]=t;else for(var i in e)e.hasOwnProperty(i)&&h.set(i,e[i])},this.get=function(e){return n[e]},this.halt=function(){v=!0},this.onReady=function(e){t=e,x()};var x=function(){b&&t&&setTimeout(function(){t(h)},0)};this.markEmpty=function(e){h.eachBidReqConf(e,function(e){e.responses.length||h.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=m[t]))return void w.err("Could not find bid req: ",t)}e.responses.length||v&&e.late_responses.length||h.addBid(e,{})};var y=function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative};this.addBid=function(e,t){if(!e||!h.getBidReqConf(e.id))return w.err("Bid request from ",e.bidder_name,"not found on unit",h.id),!1;var i=Number(parseFloat(t.cpm).toFixed(2))||0,n=Number(t.width)||0,r=Number(t.height)||0,a=t.creative||"",o=t.creative_url||"",s=t.extras||{},d=t.force||!1;i||(t.empty=!0);var c=Number((i*e.adjust).toFixed(2)),u=e.min_cpm;0<u&&c<u&&(c=0);var l=S.libSettings().pubchkcreativefn;a&&"function"==typeof l&&!l(e,t,S.libSettings())&&(w.log("Creative blocked: ",e.bidder_id,n,r,c,s),c=0);var p=w.dts(),g={id:h.id+"."+w.genID("B"),ms:Math.round(p-h.auction.ts),ts:p,config:e,viable:!v,cpm:c,_min_cpm:u,_bid_cpm:i,force:d,width:n,height:r,creative:a,creative_url:o,extras:s};if(function(e,t){var i;for(i=0;i<e.responses.length;++i)if(y(t,e.responses[i]))return!0;for(i=0;i<e.late_responses.length;++i)if(y(t,e.late_responses[i]))return!0;return!1}(e,g))return w.log("Unit ",h.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",g.ms,g.width+"x"+g.height,g.cpm.toFixed(2)),!1;var f=g.viable?"":"late ";return!g.cpm&&0<g._bid_cpm?f+="below-floor ("+g._bid_cpm+" < "+g._min_cpm+") ":t.empty&&(f+="empty "),w.log("Unit ",h.alias,"got",f+"bid from ",e.bidder_name," on BR ",e.id,": ",g.ms,g.width+"x"+g.height,g.cpm.toFixed(2)),z.trigger("bid.ready",g),g.viable?(e.responses.push(g),_.push(g),function(){if(!v){for(var e in m){var t=m[e];if(t.responses&&!t.responses.length)return}b=!0,x()}}()):(e.late_responses.push(g),A.lateBid(g)),g},this.getWinner=function(){return r||(w.each(_,function(t){var e=t.width+"x"+t.height;if(t.cpm&&g&&g&&-1==g.indexOf(e))return w.log("Unit ",h.alias,"rejected",t.config.bidder_name,"invalid size",e),void w.err("U",h.id," B",t.config.bidder_id+"."+t.config.bidder_unit_id,e,g);var i=t.cpm&&(!r||t.cpm>r.cpm||t.cpm==r.cpm&&.5<Math.random());if(r&&r.force&&(i=!1),t.force||i){r=t;try{var n=function(e){"string"==typeof t[e]&&(t[e]=t[e].replace(/\$\{AUCTION_PRICE\}/g,t.cpm))};n("creative"),n("creative_url")}catch(e){w.err("Macro failed: ",e)}}}),r&&w.log("Unit ",h.alias,"set winner to ",r.config.bidder_name,r.width+"x"+r.height,r.cpm.toFixed(2))),r},this.init()}},{"./analytics":10,"./config":12,"./modules":14,"./utils":20}],20:[function(e,t,l){var n;l.wrapAsync=function(e,t){return function(){try{return e.apply(this,arguments)}catch(e){t?t(e):l.err("Caught AsyncErr: ",e)}}},l.thread=function(t){return t=l.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},l.attempt=function(e,t){try{return e()}catch(e){}return t};var i=1,r=function(e){return e||(e=document.readyState),{loading:1,interactive:2,complete:3}[e]||0},a=(new Date).getTime(),o=function(){try{a-=Math.round(performance.now()),o=function(){return r()+"T"+Math.round(performance.now()).toString(36)},n=[i,a.toString(36),o()]}catch(e){o=function(){return r()+"T"+Math.max(0,(new Date).getTime()-a).toString(36)},n=[i=0,a.toString(36),r()+"T0"]}};o();var p=function(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i),i};p(document,"readystatechange",function(){var e,t,i;3==r()&&(e=document,t="readystatechange",i=arguments.callee,e.removeEventListener?e.removeEventListener(t,i):e.detachEvent&&e.detachEvent("on"+t,i)),n.push(o())}),l.perfts=function(){return o()},l.pgts=function(){return n},l.dts=function(){return i?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-a).toFixed(2))};var s=0;l.genID=function(e){return(e||"")+ ++s+Math.random().toString(16).substr(2)},l.vp=function(){var e,t,i,n=document;try{e=window.innerWidth,t=window.innerHeight,i=window.pageYOffset}catch(e){}return{w:e||(n.documentElement&&n.documentElement.clientWidth||n.body&&n.body.clientWidth)||0,h:t||(n.documentElement&&n.documentElement.clientHeight||n.body&&n.body.clientHeight)||0,y:i||n.body&&n.body.scrollTop||0}},l.cr=function(e){var t=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t=t?decodeURIComponent(t[2]):""},l.cw=function(e,t,i){if(0<(i=i||1)){var n=new Date;n.setTime(n.getTime()+864e5*i),exp_string=n.toGMTString()}else exp_string="max-age=-99999";document.cookie=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain=."+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")};try{var d="adbct";l.cw(d,1),l.cookies=!!l.cr(d),l.cw(d,"",-1)}catch(e){}try{l.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}l.https=!("https:"!=location.protocol),l.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,l.genUUID)}catch(e){return 0}},l.qs=function(e){var t=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(t)||[]).pop()};var c=l.qs("adb_force_bidder"),u=l.qs("adb_allow_bidder"),g=[];c&&"*"!=c&&(g=g.concat(c.split(","))),u&&"*"!=u&&(g=g.concat(u.split(","))),l.qsab=function(e,t,i){return t=String(t),"*"==u||"*"==c||(i?0<=g.indexOf(t)||0<=g.indexOf(e):!c||(0<=g.indexOf(t)||0<=g.indexOf(e)))},l.qsappend=function(e,t,i,n){return n&&!t?"":(i&&(t=encodeURIComponent(t)),"&"+e+"="+t)},l.toqs=function(e,i){var n="";return l.each(e,function(e,t){l.isarr(e)?l.each(e,function(e){n+=l.qsappend(t+"[]",e,i)}):n+=l.qsappend(t,e,i)}),n.replace(/^\&/,"")},l.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var i=0;i<e.length;++i)t(e[i],i);else for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},l.resize_element=function(e,t,i){e.style.width&&String(e.style.width).replace("px","")!=t&&(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")!=i&&(e.style.height=i+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=i&&e.setAttribute("height",i)},l.resize_iframe=function(e,t,i,n){try{for(var r=e.document.getElementsByTagName("iframe")||[],a=0;a<r.length;++a)try{if(r[a].contentDocument===t)return l.resize_element(r[a],i,n),void(e!==top&&l.resize_iframe(e.parent,e.document,i,n))}catch(e){}}catch(e){l.err("Error resizing window to "+i+"x"+n,e)}l.err("Failed to resize window to "+i+"x"+n)},l.url=function(){var t,i,n,r,e=top,a=window,o=document,s=!1;try{s=window.parent===window}catch(e){}try{t=e.location.host,i=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,n=e.document.referrer,r=e.document.title}catch(e){try{t=(String(o.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),i=(String(o.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),href=o.referrer,r=n=""}catch(e){}}return t&&i||(t=a.location.host,i=a.location.pathname+a.location.search+a.location.hash,href=a.location.href,n=o.referrer),{domain:t,page:i,href:href,referrer:n,title:r,is_top:s}},l.pixel=function(e){document.createElement("img").src=e+"&rnd="+Math.random()},l.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},l.pixelf=function(e,t,i){return e?(t&&(e=encodeURI(e)),"<iframe "+(i=i?'sandbox="'+i+'"':"")+' id="'+l.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var f,h=[],m={};l.uspf=l.wrapAsync(function(e,t){l.logl("px","UserSync qF",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||h.push({a:e,t:"f",u:t})}),l.uspi=l.wrapAsync(function(e,t){l.logl("px","UserSync qI",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||h.push({a:e,t:"i",u:t})});var _=!0,v=!0,b=500;l.cfusp=function(e,t,i){e||(_=!1),t||(v=!1),i&&(b=i),l.log("UserSync set: ",{image:_,iframe:v,delay:b})},l.qdusp=function(){l.logl("px","UserSync Q",h,b,_,v,l.safari,l.cookies),!l.safari&&l.cookies&&(clearTimeout(f),f=setTimeout(l.wrapAsync(function(){for(;h.length;){var e=h.shift();if(v&&"f"==e.t){var t=document.createElement("div");t.innerHTML=l.pixelf(e.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(t.firstChild),l.log("UserSync (F): ",e.u)}else if(_&&"i"==e.t){document.createElement("img").src=e.u,l.log("UserSync (I): ",e.u)}}}),b))};var x={};l.load=function(e,t,i,n){if(t=t?l.wrapAsync(t):function(){},i&&x[e])x[e].ready?t():x[e].cbs.push(t);else{i&&(x[e]||(x[e]={ready:!1,cbs:[t]}),t=function(){x[e].ready=!0,l.each(x[e].cbs,function(e){e()})});var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e;var a=n||(document.body||document.head);a.appendChild(r,a.firstChild)}},l.loadCached=function(e,t){l.load(e,t,!0)},l.iiframe=function(e){var t=document.createElement("iframe");return t.id=l.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},l.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var y=l.qs("adb_debug")||document.cookie.match("adb_debug");y&&(document.cookie="adb_debug=1;path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1")),l.isdebug=function(){return y},l.log=function(){if(y){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+l.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},l.logl=function(e){y==e&&l.log.apply(l,Array.prototype.slice.apply(arguments,[1]))};var w=[];l.err=function(){var t=Array.prototype.slice.apply(arguments);if(y){var e=[].concat(t);e.unshift("AdBridg | "+l.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}w.length&&l.each(w,function(e){e.apply(null,t)})};var A=!(l.onerr=function(e){w.push(e)}),z=[];l.onrec=function(e){for(A=e;z.length;)A(z.shift())},l.rec=function(e){A?A(e):z.push(e)},l.dom=l.wrapAsync(function(e,t,i,n){S.add(e,t,i,n)}),l.undom=l.wrapAsync(function(e,t){S.remove(e,t)});var S=new function(){var i,s={},d=0,c=[],n=!1,r=!1;this.add=function(e,t,i,n){s[e]=s[e]||[],s[e].push({c:n,d:t,t:i,i:e}),d+=1,a()},this.remove=function(e,t){var i,n=s[e]||[];if(t)for(i=n.length-1;0<=i;--i)n[i].c===t&&s[e].splice(i,1);for(t&&n.length||delete s[e],i=c.length-1;0<=i;--i)t&&c[i].c!==t||c.splice(i,1)},p(window,"scroll",function(){!i&&d&&(l.logl("lz","Lazy scroll wait",100),i=setTimeout(a,100))});var u=function(e,t){return 0<e.d&&e.d<1?t.v>e.d:t.d<e.d},a=l.thread(function(){var e=l.dts();if(clearTimeout(i),i=!1,n||e-r<50)i=setTimeout(a,50);else{var o;n=!0,r=e,l.logl("lz","Lazy measure",e),o=[],l.each(s,function(e,t){var i=l.where(t);if(!i)return l.logl("lz","Lazy no dom",t);for(var n=e.length-1;0<=n;--n){var r=e[n],a=u(r,i);l.logl("lz","Lazy check",JSON.stringify({el:t,coords:i,reqdist:r.d,criteria:a})),a&&(d-=1,e.splice(n,1),c.push(r),l.logl("lz","Lazy to duration",t))}e.length||o.push(t)}),l.each(o,function(e){delete s[e]});var t=function(e){for(var t=!1,i=c.length-1;0<=i;--i){var n=c[i],r=n.i;if(l.logl("lz","Lazy check time",n,r),n.tx){if(!u(n,l.where(r))){l.logl("lz","Lazy back to distance",r),n.tx=0,c.splice(i,1),s[r]=s[r]||[],s[r].push(n),d+=1;continue}}else n.tx=e+n.t;var a=n.tx-e;a<=0?(l.logl("lz","Lazy execute",r),c.splice(i,1),l.thread(n.c)()):t=t?Math.min(a+1,t):a+1}return t}(e)||100;c.length&&(l.logl("lz","Lazy duration wait",t),i=setTimeout(a,t)),n=!1}})};l.where=function(e){var t=document.getElementById(e);if(!t)return!1;var i=t.getBoundingClientRect(),n=l.vp(),r=i.top,a=i.height,o=i.top+a,s="in_viewport",d=0,c=1;return r<0?(d=o<0?Math.abs(o):0,s=((c=0<o?o/a:0)?"partially_":"")+"above_viewport"):o>n.h&&(d=r>n.h?r-n.h:0,s=((c=r<n.h?(n.h-r)/a:0)?"partially_":"")+"below_viewport"),{p:s,d:d,v:c,c:{vp:n,t:r,h:a,b:o}}}},{}]},{},[13]);